"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[2192],{3071:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>m,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"metrics/accuracy-overlap/bertscore","title":"BERTScore","description":"Introduction","source":"@site/docs/metrics/accuracy-overlap/bertscore.md","sourceDirName":"metrics/accuracy-overlap","slug":"/metrics/accuracy-overlap/bertscore","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/bertscore","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"bertscore","title":"BERTScore","sidebar_label":"BERTScore"},"sidebar":"docsSidebar","previous":{"title":"SWE-Judge Score","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/swe"},"next":{"title":"Coverage","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/coverage"}}');var s=i(4848),a=i(8453);const t={id:"bertscore",title:"BERTScore",sidebar_label:"BERTScore"},c=void 0,l={},o=[{value:"Introduction",id:"introduction",level:2},{value:"Formula",id:"formula",level:2},{value:"Variants",id:"variants",level:2},{value:"BERTScore (Standard)",id:"bertscore-standard",level:3},{value:"CodeBERTScore",id:"codebertscore",level:3},{value:"CodeBERTScore (F1, F3)",id:"codebertscore-f1-f3",level:3},{value:"Recall-weighted and LLM-based Extensions",id:"recall-weighted-and-llm-based-extensions",level:3},{value:"Applications in Software Engineering",id:"applications-in-software-engineering",level:2},{value:"Interpretation",id:"interpretation",level:2},{value:"References",id:"references",level:2},{value:"Additional References in Dataset",id:"additional-references-in-dataset",level:3}];function d(e){const n={a:"a",annotation:"annotation",br:"br",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mstyle:"mstyle",msub:"msub",mtable:"mtable",mtd:"mtd",mtext:"mtext",mtr:"mtr",ol:"ol",p:"p",semantics:"semantics",span:"span",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(n.p,{children:["BERTScore is an embedding-based evaluation metric that measures the similarity between a generated text and a reference by leveraging contextual embeddings from pretrained models like BERT.",(0,s.jsx)(n.br,{}),"\n","Instead of relying on surface-level token overlap (as BLEU or ROUGE do), BERTScore computes semantic similarity between words or code tokens in their contextual vector space."]}),"\n",(0,s.jsx)(n.p,{children:"In Software Engineering, BERTScore and its specialized variant CodeBERTScore are widely used for evaluating code generation, summarization, and translation tasks. These metrics capture semantic correctness, contextual similarity, and embedding-based alignment between generated and reference code."}),"\n",(0,s.jsx)(n.h2,{id:"formula",children:"Formula"}),"\n",(0,s.jsx)(n.p,{children:"BERTScore is computed using cosine similarity between contextual embeddings of candidate and reference tokens:"}),"\n",(0,s.jsx)(n.span,{className:"katex",children:(0,s.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,s.jsxs)(n.semantics,{children:[(0,s.jsxs)(n.mrow,{children:[(0,s.jsxs)(n.msub,{children:[(0,s.jsx)(n.mtext,{children:"BERTScore"}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"P"}),(0,s.jsx)(n.mo,{separator:"true",children:","}),(0,s.jsx)(n.mi,{children:"R"}),(0,s.jsx)(n.mo,{separator:"true",children:","}),(0,s.jsxs)(n.msub,{children:[(0,s.jsx)(n.mi,{children:"F"}),(0,s.jsx)(n.mn,{children:"1"})]})]})]}),(0,s.jsx)(n.mo,{children:"="}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mo,{fence:"true",children:"{"}),(0,s.jsxs)(n.mtable,{rowspacing:"0.36em",columnalign:"left left",columnspacing:"1em",children:[(0,s.jsx)(n.mtr,{children:(0,s.jsx)(n.mtd,{children:(0,s.jsx)(n.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"P"}),(0,s.jsx)(n.mo,{children:"="}),(0,s.jsxs)(n.mfrac,{children:[(0,s.jsx)(n.mn,{children:"1"}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,s.jsx)(n.mi,{children:"X"}),(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"})]})]}),(0,s.jsxs)(n.msub,{children:[(0,s.jsx)(n.mo,{children:"\u2211"}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"x"}),(0,s.jsx)(n.mo,{children:"\u2208"}),(0,s.jsx)(n.mi,{children:"X"})]})]}),(0,s.jsxs)(n.msub,{children:[(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"max"}),(0,s.jsx)(n.mo,{children:"\u2061"})]}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"y"}),(0,s.jsx)(n.mo,{children:"\u2208"}),(0,s.jsx)(n.mi,{children:"Y"})]})]}),(0,s.jsx)(n.mi,{children:"cos"}),(0,s.jsx)(n.mo,{children:"\u2061"}),(0,s.jsx)(n.mo,{stretchy:"false",children:"("}),(0,s.jsx)(n.mi,{children:"e"}),(0,s.jsx)(n.mo,{stretchy:"false",children:"("}),(0,s.jsx)(n.mi,{children:"x"}),(0,s.jsx)(n.mo,{stretchy:"false",children:")"}),(0,s.jsx)(n.mo,{separator:"true",children:","}),(0,s.jsx)(n.mi,{children:"e"}),(0,s.jsx)(n.mo,{stretchy:"false",children:"("}),(0,s.jsx)(n.mi,{children:"y"}),(0,s.jsx)(n.mo,{stretchy:"false",children:")"}),(0,s.jsx)(n.mo,{stretchy:"false",children:")"})]})})})}),(0,s.jsx)(n.mtr,{children:(0,s.jsx)(n.mtd,{children:(0,s.jsx)(n.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"R"}),(0,s.jsx)(n.mo,{children:"="}),(0,s.jsxs)(n.mfrac,{children:[(0,s.jsx)(n.mn,{children:"1"}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,s.jsx)(n.mi,{children:"Y"}),(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"})]})]}),(0,s.jsxs)(n.msub,{children:[(0,s.jsx)(n.mo,{children:"\u2211"}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"y"}),(0,s.jsx)(n.mo,{children:"\u2208"}),(0,s.jsx)(n.mi,{children:"Y"})]})]}),(0,s.jsxs)(n.msub,{children:[(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"max"}),(0,s.jsx)(n.mo,{children:"\u2061"})]}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"x"}),(0,s.jsx)(n.mo,{children:"\u2208"}),(0,s.jsx)(n.mi,{children:"X"})]})]}),(0,s.jsx)(n.mi,{children:"cos"}),(0,s.jsx)(n.mo,{children:"\u2061"}),(0,s.jsx)(n.mo,{stretchy:"false",children:"("}),(0,s.jsx)(n.mi,{children:"e"}),(0,s.jsx)(n.mo,{stretchy:"false",children:"("}),(0,s.jsx)(n.mi,{children:"x"}),(0,s.jsx)(n.mo,{stretchy:"false",children:")"}),(0,s.jsx)(n.mo,{separator:"true",children:","}),(0,s.jsx)(n.mi,{children:"e"}),(0,s.jsx)(n.mo,{stretchy:"false",children:"("}),(0,s.jsx)(n.mi,{children:"y"}),(0,s.jsx)(n.mo,{stretchy:"false",children:")"}),(0,s.jsx)(n.mo,{stretchy:"false",children:")"})]})})})}),(0,s.jsx)(n.mtr,{children:(0,s.jsx)(n.mtd,{children:(0,s.jsx)(n.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,s.jsxs)(n.mrow,{children:[(0,s.jsxs)(n.msub,{children:[(0,s.jsx)(n.mi,{children:"F"}),(0,s.jsx)(n.mn,{children:"1"})]}),(0,s.jsx)(n.mo,{children:"="}),(0,s.jsxs)(n.mfrac,{children:[(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mn,{children:"2"}),(0,s.jsx)(n.mi,{children:"P"}),(0,s.jsx)(n.mi,{children:"R"})]}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"P"}),(0,s.jsx)(n.mo,{children:"+"}),(0,s.jsx)(n.mi,{children:"R"})]})]})]})})})})]})]})]}),(0,s.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\text{BERTScore}_{P,R,F_1} = \n\\begin{cases}\nP = \\frac{1}{|X|} \\sum_{x \\in X} \\max_{y \\in Y} \\cos(e(x), e(y)) \\\\\nR = \\frac{1}{|Y|} \\sum_{y \\in Y} \\max_{x \\in X} \\cos(e(x), e(y)) \\\\\nF_1 = \\frac{2PR}{P + R}\n\\end{cases}"})]})})}),"\n",(0,s.jsx)(n.p,{children:"Where:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"( X ) and ( Y ) represent the sets of tokens in the candidate and reference texts, respectively."}),"\n",(0,s.jsx)(n.li,{children:"( e(x) ) and ( e(y) ) are contextual embeddings (e.g., from BERT or CodeBERT)."}),"\n",(0,s.jsx)(n.li,{children:"Cosine similarity measures semantic closeness between embeddings."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The metric produces Precision (P), Recall (R), and F1 variants, depending on whether the focus is on generated-token coverage, reference coverage, or their harmonic mean."}),"\n",(0,s.jsx)(n.h2,{id:"variants",children:"Variants"}),"\n",(0,s.jsx)(n.h3,{id:"bertscore-standard",children:"BERTScore (Standard)"}),"\n",(0,s.jsx)(n.p,{children:"The base version measures token-level embedding similarity using pretrained BERT models. It is often applied in natural language processing (NLP) and natural language generation (NLG) tasks, where meaning preservation is more important than exact lexical matching."}),"\n",(0,s.jsx)(n.h3,{id:"codebertscore",children:"CodeBERTScore"}),"\n",(0,s.jsxs)(n.p,{children:["An adaptation for programming languages proposed by ",(0,s.jsx)(n.em,{children:"Zhou et al. (2023)"}),".",(0,s.jsx)(n.br,{}),"\n","It employs CodeBERT embeddings trained jointly on natural and programming languages, making it better suited for evaluating code generation, translation, and documentation synthesis tasks. Unlike BLEU or ROUGE, CodeBERTScore captures the semantic consistency and syntactic integrity of the generated code."]}),"\n",(0,s.jsx)(n.h3,{id:"codebertscore-f1-f3",children:"CodeBERTScore (F1, F3)"}),"\n",(0,s.jsx)(n.p,{children:"These weighted variants balance or prioritize recall:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"F1"})," provides a harmonic balance between precision and recall."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"F3"})," emphasizes recall, rewarding outputs that capture more of the reference semantics even if syntactic precision is lower.",(0,s.jsx)(n.br,{}),"\n","Such adjustments are particularly relevant in tasks where ",(0,s.jsx)(n.em,{children:"functional correctness"})," is the main concern (e.g., HumanEval or CoNaLa benchmarks)."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"recall-weighted-and-llm-based-extensions",children:"Recall-weighted and LLM-based Extensions"}),"\n",(0,s.jsxs)(n.p,{children:["Recent studies in LLM evaluation have extended the metric to recall-weighted embedding similarity and LLM-based embedding matching, where embeddings are obtained from large models (e.g., GPT or CodeLlama encoders).",(0,s.jsx)(n.br,{}),"\n","These approaches aim to align metric behavior more closely with human judgments of functionality and logical soundness."]}),"\n",(0,s.jsx)(n.h2,{id:"applications-in-software-engineering",children:"Applications in Software Engineering"}),"\n",(0,s.jsx)(n.p,{children:"BERTScore and its extensions have been widely applied across SE-related evaluations:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In LLM evaluation tasks such as GEM, GLGE, and CLUE, BERTScore is used as an automatic semantic evaluation metric for text-based reasoning or natural language understanding."}),"\n",(0,s.jsx)(n.li,{children:"Within software engineering benchmarks such as CoNaLa, Card2Code, APR-Assess, and Summary-Assess, it quantifies embedding-based similarity between generated and reference code."}),"\n",(0,s.jsx)(n.li,{children:"In LLM-based functional correctness studies, BERTScore complements metrics like Exact Match by providing LLM-based embedding match (EM) scores that reflect semantic equivalence."}),"\n",(0,s.jsx)(n.li,{children:"CodeBERTScore, specifically, is used to assess the semantic and structural similarity of generated code in tasks like code translation, generation, and summarization."}),"\n",(0,s.jsx)(n.li,{children:"Variants such as F1 and F3 have been evaluated on HumanEval and CoNaLa, demonstrating improved sensitivity to code semantics and recall-weighted meaning preservation."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Overall, BERTScore offers a flexible framework for evaluating embedding-based similarity, while CodeBERTScore extends this capability to cross-lingual code understanding and LLM evaluation scenarios."}),"\n",(0,s.jsx)(n.h2,{id:"interpretation",children:"Interpretation"}),"\n",(0,s.jsxs)(n.p,{children:["In software engineering, BERTScore has become an essential bridge between surface-level metrics and semantic understanding.",(0,s.jsx)(n.br,{}),"\n","Its primary advantages include:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Contextual comprehension:"})," Goes beyond literal matching by analyzing token meaning in context, crucial for tasks like code summarization or translation."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Tolerance to variation:"})," Robust to stylistic or lexical changes that don\u2019t affect functionality (e.g., variable renaming or reordering)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"High correlation with human evaluation:"})," Especially for code generation tasks when paired with CodeBERT or LLM-based embeddings."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"However, BERTScore also has limitations:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It can inflate scores for semantically incorrect but lexically similar code."}),"\n",(0,s.jsx)(n.li,{children:"It depends on the pretraining corpus of the chosen embedding model (e.g., BERT, CodeBERT, or GPT-based encoders)."}),"\n",(0,s.jsx)(n.li,{children:"It is computationally heavier than token-based alternatives."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In practice, BERTScore and CodeBERTScore are most effective when combined with execution-based metrics (like Pass@k or Test Pass Rate), providing a more holistic view of both semantic and functional model performance."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Zhang, T., Kishore, V., Wu, F., Weinberger, K. Q., & Artzi, Y. (2019)."})," BERTScore: Evaluating Text Generation with BERT.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"https://arxiv.org/abs/1904.09675",children:"https://arxiv.org/abs/1904.09675"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Hanna, M., & Bojar, O. (2021)."})," A Fine-Grained Analysis of BERTScore.",(0,s.jsx)(n.br,{}),"\n","In Proceedings of the Sixth Conference on Machine Translation (WMT 2021).",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"https://aclanthology.org/2021.wmt-1.59.pdf",children:"https://aclanthology.org/2021.wmt-1.59.pdf"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Zhou, S., Alon, U., Agarwal, S., & Neubig, G. (2023)."})," CodeBERTScore: Evaluating Code Generation with Pretrained Models of Code. (Also listed in the references database)\r\n",(0,s.jsx)(n.a,{href:"https://aclanthology.org/2023.emnlp-main.859.pdf",children:"https://aclanthology.org/2023.emnlp-main.859.pdf"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"additional-references-in-dataset",children:"Additional References in Dataset"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"1, 2, 11, 12, 24,\xa025,\xa026,\xa037,\xa040"}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var r=i(6540);const s={},a=r.createContext(s);function t(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);
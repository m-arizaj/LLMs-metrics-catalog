"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[4945],{1720:(i,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>x,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"metrics/human/toxicity","title":"Toxicity","description":"Introduction","source":"@site/docs/metrics/human/toxicity.md","sourceDirName":"metrics/human","slug":"/metrics/human/toxicity","permalink":"/LLMs-metrics-catalog/metrics/human/toxicity","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"toxicity","title":"Toxicity","sidebar_label":"Toxicity"},"sidebar":"docsSidebar","previous":{"title":"Human Metrics","permalink":"/LLMs-metrics-catalog/metrics/human/"},"next":{"title":"Fairness","permalink":"/LLMs-metrics-catalog/metrics/human/fairness"}}');var n=t(4848),s=t(8453),o=t(6070);const a={id:"toxicity",title:"Toxicity",sidebar_label:"Toxicity"},l=void 0,d={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Formula and Structure",id:"formula-and-structure",level:2},{value:"1. Toxicity Probability",id:"1-toxicity-probability",level:3},{value:"2. Toxicity Rate",id:"2-toxicity-rate",level:3},{value:"3. Expected Toxicity",id:"3-expected-toxicity",level:3},{value:"Variants",id:"variants",level:2},{value:"Toxicity (Binary)",id:"toxicity-binary",level:3},{value:"Toxicity Rate",id:"toxicity-rate",level:3},{value:"Contextual Toxicity (LLM-Based)",id:"contextual-toxicity-llm-based",level:3},{value:"Applications in Software Engineering",id:"applications-in-software-engineering",level:2},{value:"Interpretation",id:"interpretation",level:2},{value:"References",id:"references",level:2},{value:"Additional References in Dataset",id:"additional-references-in-dataset",level:3}];function h(i){const e={a:"a",annotation:"annotation",br:"br",em:"em",h2:"h2",h3:"h3",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",mtext:"mtext",munderover:"munderover",ol:"ol",p:"p",semantics:"semantics",span:"span",ul:"ul",...(0,s.R)(),...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,n.jsxs)(e.p,{children:["Toxicity measures the extent to which text generated by a model contains harmful, offensive, abusive, or otherwise inappropriate content. In Large Language Models (LLMs) and Software Engineering (SE), toxicity metrics help evaluate the safety and ethical reliability of generated code comments, commit messages, documentation, and natural-language responses. They are essential for ensuring professional communication quality and preventing the propagation of harmful language in development workflows.\r\nTraditional toxicity evaluations, such as ",(0,n.jsx)(e.em,{children:"RealToxicityPrompts"})," (Gehman et al., 2020) and ",(0,n.jsx)(e.em,{children:"ToxiGen"})," (Hartvigsen et al., 2022), use curated datasets of toxic and non-toxic text to score model outputs using classifier-based toxicity probabilities.",(0,n.jsx)(e.br,{}),"\n","More recent frameworks like ",(0,n.jsx)(e.em,{children:"LATTE"})," (Koh et al., 2024) introduce LLM-based toxicity evaluators that contextualize and score toxicity along multiple dimensions, reflecting a shift toward more nuanced, value-aligned evaluation."]}),"\n",(0,n.jsx)(e.h2,{id:"formula-and-structure",children:"Formula and Structure"}),"\n",(0,n.jsx)(e.p,{children:"Toxicity metrics are commonly defined using classifier probabilities or aggregated toxicity rates."}),"\n",(0,n.jsx)(e.h3,{id:"1-toxicity-probability",children:"1. Toxicity Probability"}),"\n",(0,n.jsx)(e.p,{children:"A classifier or evaluator assigns a toxicity score:"}),"\n",(0,n.jsx)(e.span,{className:"katex",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"T"}),(0,n.jsx)(e.mo,{stretchy:"false",children:"("}),(0,n.jsx)(e.mi,{children:"x"}),(0,n.jsx)(e.mo,{stretchy:"false",children:")"}),(0,n.jsx)(e.mo,{children:"="}),(0,n.jsx)(e.mi,{children:"P"}),(0,n.jsx)(e.mo,{stretchy:"false",children:"("}),(0,n.jsx)(e.mtext,{children:"toxic"}),(0,n.jsx)(e.mo,{children:"\u2223"}),(0,n.jsx)(e.mi,{children:"x"}),(0,n.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"T(x) = P(\\text{toxic} \\mid x)"})]})})}),"\n",(0,n.jsxs)(e.p,{children:["where ",(0,n.jsx)(e.span,{className:"katex",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"x"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"x"})]})})})," is the generated text.",(0,n.jsx)(e.br,{}),"\n","This matches classifier outputs such as the Perspective API score used in RealToxicityPrompts."]}),"\n",(0,n.jsx)(e.h3,{id:"2-toxicity-rate",children:"2. Toxicity Rate"}),"\n",(0,n.jsx)(e.p,{children:"The proportion of generated outputs classified as toxic:"}),"\n",(0,n.jsx)(e.span,{className:"katex",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"T"}),(0,n.jsx)(e.mi,{children:"o"}),(0,n.jsx)(e.mi,{children:"x"}),(0,n.jsx)(e.mi,{children:"i"}),(0,n.jsx)(e.mi,{children:"c"}),(0,n.jsx)(e.mi,{children:"i"}),(0,n.jsx)(e.mi,{children:"t"}),(0,n.jsx)(e.mi,{children:"y"}),(0,n.jsx)(e.mtext,{children:"\xa0"}),(0,n.jsx)(e.mi,{children:"R"}),(0,n.jsx)(e.mi,{children:"a"}),(0,n.jsx)(e.mi,{children:"t"}),(0,n.jsx)(e.mi,{children:"e"}),(0,n.jsx)(e.mo,{children:"="}),(0,n.jsxs)(e.mfrac,{children:[(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"N"}),(0,n.jsx)(e.mtext,{children:"toxic"})]}),(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"N"}),(0,n.jsx)(e.mtext,{children:"total"})]})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"Toxicity\\ Rate = \\frac{N_{\\text{toxic}}}{N_{\\text{total}}}"})]})})}),"\n",(0,n.jsx)(e.h3,{id:"3-expected-toxicity",children:"3. Expected Toxicity"}),"\n",(0,n.jsxs)(e.p,{children:["The average toxicity across ",(0,n.jsx)(e.span,{className:"katex",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"N"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"N"})]})})})," generations:"]}),"\n",(0,n.jsx)(e.span,{className:"katex",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"E"}),(0,n.jsx)(e.mo,{stretchy:"false",children:"["}),(0,n.jsx)(e.mi,{children:"T"}),(0,n.jsx)(e.mo,{stretchy:"false",children:"]"}),(0,n.jsx)(e.mo,{children:"="}),(0,n.jsxs)(e.mfrac,{children:[(0,n.jsx)(e.mn,{children:"1"}),(0,n.jsx)(e.mi,{children:"N"})]}),(0,n.jsxs)(e.munderover,{children:[(0,n.jsx)(e.mo,{children:"\u2211"}),(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"i"}),(0,n.jsx)(e.mo,{children:"="}),(0,n.jsx)(e.mn,{children:"1"})]}),(0,n.jsx)(e.mi,{children:"N"})]}),(0,n.jsx)(e.mi,{children:"T"}),(0,n.jsx)(e.mo,{stretchy:"false",children:"("}),(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"x"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"E[T] = \\frac{1}{N} \\sum_{i=1}^{N} T(x_i)"})]})})}),"\n",(0,n.jsx)(e.p,{children:"These formulations quantify how often toxicity occurs (rate) and how severe it is (probability). LLM-based evaluators like LATTE extend this with multi-dimensional scores that account for contextual meaning, intent, and ethical alignment."}),"\n",(0,n.jsx)(e.h2,{id:"variants",children:"Variants"}),"\n",(0,n.jsx)(e.h3,{id:"toxicity-binary",children:"Toxicity (Binary)"}),"\n",(0,n.jsx)(e.p,{children:"Classifier-based categorization of text as toxic or non-toxic, common in early safety benchmarks."}),"\n",(0,n.jsx)(e.h3,{id:"toxicity-rate",children:"Toxicity Rate"}),"\n",(0,n.jsx)(e.p,{children:"A frequency-based measure of how often a model generates harmful content."}),"\n",(0,n.jsx)(e.h3,{id:"contextual-toxicity-llm-based",children:"Contextual Toxicity (LLM-Based)"}),"\n",(0,n.jsxs)(e.p,{children:["Introduced in LATTE, where LLM evaluators score toxicity across ",(0,n.jsx)(e.em,{children:"evaluation dimensions"})," (e.g., harmful intent, demeaning phrasing, stereotyping). These scores incorporate semantic context rather than relying solely on surface-level lexical cues."]}),"\n",(0,n.jsx)(e.p,{children:"Variants can be calibrated to different cultural norms, bias sensitivities, or ethical guidelines."}),"\n",(0,n.jsx)(e.h2,{id:"applications-in-software-engineering",children:"Applications in Software Engineering"}),"\n",(0,n.jsx)(e.p,{children:"In SE contexts, toxicity metrics are used to evaluate:"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:["generated ",(0,n.jsx)(e.em,{children:"code comments"}),","]}),"\n",(0,n.jsxs)(e.li,{children:["automated ",(0,n.jsx)(e.em,{children:"documentation"}),","]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.em,{children:"commit messages"}),","]}),"\n",(0,n.jsx)(e.li,{children:"SE-related natural-language explanations."}),"\n"]}),"\n",(0,n.jsxs)(e.p,{children:["Frameworks such as ",(0,n.jsx)(e.em,{children:"HELM"})," apply toxicity scoring for safety analysis, while benchmarks like ",(0,n.jsx)(e.em,{children:"RealToxicityPrompts"})," and ",(0,n.jsx)(e.em,{children:"ToxiGen"})," quantify toxicity robustness under varied prompts. These evaluations help ensure that AI-assisted development tools produce safe, respectful, and workplace-appropriate language."]}),"\n",(0,n.jsx)(e.h2,{id:"interpretation",children:"Interpretation"}),"\n",(0,n.jsx)(e.p,{children:"A high toxicity score indicates stronger presence of harmful, abusive, or discriminatory content, while a low score signals safer and more ethically aligned outputs."}),"\n",(0,n.jsx)(e.p,{children:"However, toxicity detection is context-dependent:"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"Classifier-based systems may encode dataset or cultural biases."}),"\n",(0,n.jsx)(e.li,{children:"Scoring can over-penalize minority dialects or reclaimed terms (documented in RealToxicityPrompts and ToxiGen)."}),"\n",(0,n.jsx)(e.li,{children:"LLM-based evaluators (LATTE) address these limitations by applying contextual reasoning and multi-dimension judgment."}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"In SE environments, monitoring toxicity supports ethical AI adoption and helps prevent harmful language from propagating into technical ecosystems."}),"\n",(0,n.jsx)(e.h2,{id:"references",children:"References"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsxs)(e.li,{children:["Koh, Y., Wang, R., Xie, Y., & Zhou, W. (2024). Can LLMs Recognize Toxicity? A Structured Investigation Framework and Toxicity Metric. ",(0,n.jsx)(e.a,{href:"https://doi.org/10.48550/arXiv.2402.06900",children:"https://doi.org/10.48550/arXiv.2402.06900"})]}),"\n",(0,n.jsxs)(e.li,{children:["Gehman, S., Gururangan, S., Sap, M., Choi, Y., & Smith, N. A. (2020). RealToxicityPrompts: Evaluating Neural Toxic Degeneration in Language Models. ",(0,n.jsx)(e.a,{href:"https://doi.org/10.48550/arXiv.2009.11462",children:"https://doi.org/10.48550/arXiv.2009.11462"})]}),"\n",(0,n.jsxs)(e.li,{children:["Hartvigsen, T., Gabriel, S., Palangi, H., Sap, M., Ray, D., & Ettinger, A. (2022). ToxiGen: A Large-Scale Machine-Generated Dataset for Adversarial and Implicit Hate Speech Detection. ",(0,n.jsx)(e.a,{href:"https://doi.org/10.48550/arXiv.2203.09509",children:"https://doi.org/10.48550/arXiv.2203.09509"})]}),"\n"]}),"\n",(0,n.jsx)(e.h3,{id:"additional-references-in-dataset",children:"Additional References in Dataset"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsx)(o.r,{ids:["4","9","16"]}),"\n"]}),"\n"]})]})}function x(i={}){const{wrapper:e}={...(0,s.R)(),...i.components};return e?(0,n.jsx)(e,{...i,children:(0,n.jsx)(h,{...i})}):h(i)}},6070:(i,e,t)=>{t.d(e,{r:()=>o});var r=t(6540),n=t(4848);const s={1:{id:"1",url:"https://doi.org/10.1109/SWC62898.2024.00231"},2:{id:"2",url:"https://doi.org/10.48550/arXiv.2404.09135"},3:{id:"3",url:"https://elib.dlr.de/217570/1/Bektas_Ali_MA.pdf"},4:{id:"4",url:"https://doi.org/10.48550/arXiv.2211.09110"},5:{id:"5",url:"https://doi.org/10.48550/arXiv.2310.19736"},6:{id:"6",url:"https://doi.org/10.48550/arXiv.2308.10620"},7:{id:"7",url:"https://doi.org/10.48550/arXiv.2505.08903"},8:{id:"8",url:"https://doi.org/10.48550/arXiv.2311.07397"},9:{id:"9",url:"https://doi.org/10.48550/arXiv.2307.03109"},10:{id:"10",url:"https://doi.org/10.48550/arXiv.2408.16498"},11:{id:"11",url:"https://doi.org/10.48550/arXiv.2505.20854"},12:{id:"12",url:"https://doi.org/10.48550/arXiv.2304.14317"},13:{id:"13",url:"https://doi.org/10.48550/arXiv.2403.08604"},14:{id:"14",url:"https://doi.org/10.48550/arXiv.2310.06770"},15:{id:"15",url:"https://doi.org/10.48550/arXiv.2206.04615"},16:{id:"16",url:"https://doi.org/10.1162/coli_a_00524"},17:{id:"17",url:"https://doi.org/10.56038/oprd.v4i1.444"},18:{id:"18",url:"https://doi.org/10.56155/978-81-955020-9-7-24"},19:{id:"19",url:"https://doi.org/10.48550/arXiv.2406.12655"},20:{id:"20",url:"https://doi.org/10.48550/arXiv.2305.01210"},21:{id:"21",url:"https://doi.org/10.4218/etrij.2023-0357"},22:{id:"22",url:"https://doi.org/10.48550/arXiv.2401.06401"},23:{id:"23",url:"https://doi.org/10.48550/arXiv.2212.10264"},24:{id:"24",url:"https://doi.org/10.48550/arXiv.2302.05527"},25:{id:"25",url:"https://doi.org/10.1016/j.jss.2023.111741"},26:{id:"26",url:"https://doi.org/10.48550/arXiv.2406.06902"},27:{id:"27",url:"https://doi.org/10.18653/v1/2024.findings-emnlp.303"},28:{id:"28",url:"https://doi.org/10.1007/s42979-025-04241-5"},29:{id:"29",url:"https://doi.org/10.1007/s10009-025-00798-x"},30:{id:"30",url:"https://doi.org/10.1007/s10710-024-09494-2"},31:{id:"31",url:"https://doi.org/10.48550/arXiv.2107.03374"},32:{id:"32",url:"https://doi.org/10.48550/arXiv.2102.04664"},33:{id:"33",url:"https://doi.org/10.48550/arXiv.2410.12381"},34:{id:"34",url:"https://doi.org/10.48550/arXiv.2108.07732"},35:{id:"35",url:"https://doi.org/10.48550/arXiv.2208.08227"},36:{id:"36",url:"https://doi.org/10.48550/arXiv.2404.00599"},37:{id:"37",url:"https://doi.org/10.48550/arXiv.2301.09043"},38:{id:"38",url:"https://doi.org/10.1145/3650105.3652295"},39:{id:"39",url:"https://doi.org/10.3390/digital4010005"},40:{id:"40",url:"https://doi.org/10.18653/v1/2024.emnlp-main.1118"},41:{id:"41",url:"https://doi.org/10.48550/arXiv.2408.06450"},42:{id:"42",url:"https://doi.org/10.48550/arXiv.2411.11908"},43:{id:"43",url:"https://doi.org/10.18653/v1/2021.emnlp-main.685"},44:{id:"44",url:"https://doi.org/10.48550/arXiv.2207.11280"},45:{id:"45",url:"https://doi.org/10.48550/arXiv.2301.03988"},46:{id:"46",url:"https://doi.org/10.48550/arXiv.2303.17568"},47:{id:"47",url:"https://doi.org/10.48550/arXiv.2206.08474"},48:{id:"48",url:"https://doi.org/10.1007/s41019-025-00296-9"},49:{id:"49",url:"https://doi.org/10.1007/s11704-024-40231-1"},50:{id:"50",url:"https://doi.org/10.1007/s11432-023-4127-5"},51:{id:"51",url:"https://doi.org/10.1007/s44443-025-00074-7"},52:{id:"52",url:"https://doi.org/10.1007/s10515-024-00451-y"},53:{id:"53",url:"https://doi.org/10.1007/s10462-024-10888-y"},54:{id:"54",url:"https://doi.org/10.48550/arXiv.2509.09614"},55:{id:"55",url:"https://doi.org/10.48550/arXiv.2506.10833"},56:{id:"56",url:"https://doi.org/10.1007/s43681-025-00721-9"},57:{id:"57",url:"https://doi.org/10.1109/ACCESS.2024.3482107"},58:{id:"58",url:"https://doi.org/10.1109/ACCESS.2024.3403858"},59:{id:"59",url:"https://doi.org/10.1109/ACCESS.2024.3484947"},60:{id:"60",url:"https://doi.org/10.1109/ACCESS.2025.3553870"},61:{id:"61",url:"https://doi.org/10.1109/ACCESS.2025.3601206"},62:{id:"62",url:"https://doi.org/10.1016/j.csi.2024.103942"},63:{id:"63",url:"https://doi.org/10.1145/3597503.3639219"},64:{id:"64",url:"https://doi.org/10.1109/TSE.2023.3334955"},65:{id:"65",url:"https://doi.org/10.1007/s10664-025-10687-1"},66:{id:"66",url:"https://doi.org/10.48550/arXiv.2506.01793"},67:{id:"67",url:"https://doi.org/10.48550/arXiv.2306.04675"},68:{id:"68",url:"https://doi.org/10.48550/arXiv.2509.12395"}};function o({ids:i}){return(0,n.jsxs)("p",{children:[i.map((e,t)=>{const o=s[e];return o?(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)("a",{href:o.url,target:"_blank",rel:"noreferrer",children:o.id}),t<i.length-1?", ":null]},e):null}),"\xa0\xa0\xa0\xa0"]})}},8453:(i,e,t)=>{t.d(e,{R:()=>o,x:()=>a});var r=t(6540);const n={},s=r.createContext(n);function o(i){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof i?i(e):{...e,...i}},[e,i])}function a(i){let e;return e=i.disableParentContext?"function"==typeof i.components?i.components(n):i.components||n:o(i.components),r.createElement(s.Provider,{value:e},i.children)}}}]);
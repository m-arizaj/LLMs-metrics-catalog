"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[9744],{4701:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"metrics/statistical/fault-localization-rank","title":"Fault Localization Rank Metrics","description":"Introduction","source":"@site/docs/metrics/statistical/fault-localization-rank.md","sourceDirName":"metrics/statistical","slug":"/metrics/statistical/fault-localization-rank","permalink":"/LLMs-metrics-catalog/metrics/statistical/fault-localization-rank","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"fault-localization-rank","title":"Fault Localization Rank Metrics","sidebar_label":"FL Rank Metrics"},"sidebar":"docsSidebar","previous":{"title":"Average Metrics","permalink":"/LLMs-metrics-catalog/metrics/statistical/average"},"next":{"title":"AST Metrics","permalink":"/LLMs-metrics-catalog/metrics/code-structural/ast-metrics"}}');var s=i(4848),l=i(8453);const a={id:"fault-localization-rank",title:"Fault Localization Rank Metrics",sidebar_label:"FL Rank Metrics"},r=void 0,o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"1. Top-N",id:"1-top-n",level:2},{value:"Definition",id:"definition",level:3},{value:"Purpose",id:"purpose",level:3},{value:"Applications",id:"applications",level:3},{value:"Limitations",id:"limitations",level:3},{value:"2. MFR (Mean First Rank)",id:"2-mfr-mean-first-rank",level:2},{value:"Definition",id:"definition-1",level:3},{value:"Purpose",id:"purpose-1",level:3},{value:"Applications",id:"applications-1",level:3},{value:"Limitations",id:"limitations-1",level:3},{value:"3. MAR (Mean Average Rank)",id:"3-mar-mean-average-rank",level:2},{value:"Definition",id:"definition-2",level:3},{value:"Purpose",id:"purpose-2",level:3},{value:"Applications",id:"applications-2",level:3},{value:"4. EXAM",id:"4-exam",level:2},{value:"Definition",id:"definition-3",level:3},{value:"Purpose",id:"purpose-3",level:3},{value:"Applications",id:"applications-3",level:3},{value:"5. Comparative Summary",id:"5-comparative-summary",level:2},{value:"Key References",id:"key-references",level:2}];function d(e){const t={a:"a",annotation:"annotation",em:"em",h2:"h2",h3:"h3",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",mtext:"mtext",munder:"munder",p:"p",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(t.p,{children:["In Software Engineering (SE), ",(0,s.jsx)(t.strong,{children:"Fault Localization (FL)"})," is the critical process of identifying the specific locations of defects (i.e., the buggy statements or functions) in source code. To evaluate the effectiveness of automated FL techniques, a family of ",(0,s.jsx)(t.strong,{children:"rank-based metrics"})," is used."]}),"\n",(0,s.jsxs)(t.p,{children:['These metrics assess the performance of an FL model by analyzing the "suspiciousness" list it produces, which ranks code elements from most likely to least likely to be faulty.The goal is to measure how much effort (i.e., how far down the list) a developer must expend to find the ',(0,s.jsx)(t.em,{children:"actual"})," fault.The most common metrics in this family include ",(0,s.jsx)(t.strong,{children:"Top-N"}),", ",(0,s.jsx)(t.strong,{children:"Mean First Rank (MFR)"}),", ",(0,s.jsx)(t.strong,{children:"Mean Average Rank (MAR)"}),", and ",(0,s.jsx)(t.strong,{children:"EXAM"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"1-top-n",children:"1. Top-N"}),"\n",(0,s.jsx)(t.h3,{id:"definition",children:"Definition"}),"\n",(0,s.jsxs)(t.p,{children:["Top-N measures the number (or percentage) of faults that are correctly identified within the top ",(0,s.jsx)(t.span,{className:"katex",children:(0,s.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(t.semantics,{children:[(0,s.jsx)(t.mrow,{children:(0,s.jsx)(t.mi,{children:"N"})}),(0,s.jsx)(t.annotation,{encoding:"application/x-tex",children:"N"})]})})}),' elements of the ranked suspiciousness list. For example, "Top-1" measures how many faults were the #1 ranked item.']}),"\n",(0,s.jsx)(t.h3,{id:"purpose",children:"Purpose"}),"\n",(0,s.jsxs)(t.p,{children:["This metric is a direct measure of a tool's immediate utility. A high Top-N score (especially for low ",(0,s.jsx)(t.span,{className:"katex",children:(0,s.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(t.semantics,{children:[(0,s.jsx)(t.mrow,{children:(0,s.jsx)(t.mi,{children:"N"})}),(0,s.jsx)(t.annotation,{encoding:"application/x-tex",children:"N"})]})})}),", like 1, 5, or 10) indicates that the tool frequently places the correct fault within the first few items a developer would examine, saving significant time."]}),"\n",(0,s.jsx)(t.h3,{id:"applications",children:"Applications"}),"\n",(0,s.jsx)(t.p,{children:"Used in virtually all modern fault localization studies to provide a simple, intuitive benchmark of performance."}),"\n",(0,s.jsx)(t.h3,{id:"limitations",children:"Limitations"}),"\n",(0,s.jsxs)(t.p,{children:["It is a binary (hit-or-miss) metric. It does not distinguish between a fault ranked at position ",(0,s.jsx)(t.span,{className:"katex",children:(0,s.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(t.semantics,{children:[(0,s.jsxs)(t.mrow,{children:[(0,s.jsx)(t.mi,{children:"N"}),(0,s.jsx)(t.mo,{children:"+"}),(0,s.jsx)(t.mn,{children:"1"})]}),(0,s.jsx)(t.annotation,{encoding:"application/x-tex",children:"N+1"})]})})})," and a fault ranked at position 1000."]}),"\n",(0,s.jsx)(t.h2,{id:"2-mfr-mean-first-rank",children:"2. MFR (Mean First Rank)"}),"\n",(0,s.jsx)(t.h3,{id:"definition-1",children:"Definition"}),"\n",(0,s.jsxs)(t.p,{children:["MFR calculates the ",(0,s.jsx)(t.strong,{children:"mean (average)"})," of the ",(0,s.jsx)(t.strong,{children:"rank"})," of the ",(0,s.jsx)(t.strong,{children:"first"})," faulty statement found across all faults in a dataset."]}),"\n",(0,s.jsx)(t.span,{className:"katex",children:(0,s.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,s.jsxs)(t.semantics,{children:[(0,s.jsxs)(t.mrow,{children:[(0,s.jsx)(t.mtext,{children:"MFR"}),(0,s.jsx)(t.mo,{children:"="}),(0,s.jsxs)(t.mfrac,{children:[(0,s.jsx)(t.mn,{children:"1"}),(0,s.jsxs)(t.mrow,{children:[(0,s.jsx)(t.mi,{mathvariant:"normal",children:"\u2223"}),(0,s.jsx)(t.mi,{children:"F"}),(0,s.jsx)(t.mi,{mathvariant:"normal",children:"\u2223"})]})]}),(0,s.jsxs)(t.munder,{children:[(0,s.jsx)(t.mo,{children:"\u2211"}),(0,s.jsxs)(t.mrow,{children:[(0,s.jsx)(t.mi,{children:"f"}),(0,s.jsx)(t.mo,{children:"\u2208"}),(0,s.jsx)(t.mi,{children:"F"})]})]}),(0,s.jsx)(t.mtext,{children:"rank"}),(0,s.jsx)(t.mo,{stretchy:"false",children:"("}),(0,s.jsxs)(t.msub,{children:[(0,s.jsx)(t.mtext,{children:"first_faulty_element"}),(0,s.jsx)(t.mi,{children:"f"})]}),(0,s.jsx)(t.mo,{stretchy:"false",children:")"})]}),(0,s.jsx)(t.annotation,{encoding:"application/x-tex",children:"\\text{MFR} = \\frac{1}{|F|} \\sum_{f \\in F} \\text{rank}(\\text{first\\_faulty\\_element}_f)"})]})})}),"\n",(0,s.jsxs)(t.p,{children:["where ",(0,s.jsx)(t.span,{className:"katex",children:(0,s.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(t.semantics,{children:[(0,s.jsx)(t.mrow,{children:(0,s.jsx)(t.mi,{children:"F"})}),(0,s.jsx)(t.annotation,{encoding:"application/x-tex",children:"F"})]})})})," is the set of all faults (bugs) being evaluated."]}),"\n",(0,s.jsx)(t.h3,{id:"purpose-1",children:"Purpose"}),"\n",(0,s.jsxs)(t.p,{children:["MFR provides a single score representing the average effort required to find the ",(0,s.jsx)(t.em,{children:"first"})," sign of the bug. A lower MFR is better, indicating the fault is, on average, ranked higher on the list."]}),"\n",(0,s.jsx)(t.h3,{id:"applications-1",children:"Applications"}),"\n",(0,s.jsx)(t.p,{children:"A primary metric for evaluating and comparing different FL techniques, especially in benchmarks like Defects4J."}),"\n",(0,s.jsx)(t.h3,{id:"limitations-1",children:"Limitations"}),"\n",(0,s.jsxs)(t.p,{children:["In cases of multi-location bugs (where a fix requires changing multiple statements), MFR only considers the rank of the ",(0,s.jsx)(t.em,{children:"first"})," faulty element, not the ranks of the others."]}),"\n",(0,s.jsx)(t.h2,{id:"3-mar-mean-average-rank",children:"3. MAR (Mean Average Rank)"}),"\n",(0,s.jsx)(t.h3,{id:"definition-2",children:"Definition"}),"\n",(0,s.jsxs)(t.p,{children:["MAR calculates the ",(0,s.jsx)(t.strong,{children:"mean"})," of the ",(0,s.jsx)(t.strong,{children:"average rank"})," of ",(0,s.jsx)(t.em,{children:"all"})," faulty elements associated with a single bug, and then averages this across all bugs in the dataset."]}),"\n",(0,s.jsx)(t.h3,{id:"purpose-2",children:"Purpose"}),"\n",(0,s.jsxs)(t.p,{children:['Unlike MFR, MAR is designed to provide a more holistic measure of effort for bugs that involve multiple faulty locations. It answers: "On average, what was the rank of ',(0,s.jsx)(t.em,{children:"all"}),' the buggy pieces of code?"']}),"\n",(0,s.jsx)(t.h3,{id:"applications-2",children:"Applications"}),"\n",(0,s.jsx)(t.p,{children:"Used in FL evaluation, particularly when assessing techniques on bugs with multiple faulty statements."}),"\n",(0,s.jsx)(t.h2,{id:"4-exam",children:"4. EXAM"}),"\n",(0,s.jsx)(t.h3,{id:"definition-3",children:"Definition"}),"\n",(0,s.jsxs)(t.p,{children:["EXAM (Expected Maximum Fault Localization) measures the ",(0,s.jsx)(t.strong,{children:"expected rank"})," of the first correct fault location found in the ranked list of code elements."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:'(Note: In many contexts, this is interpreted as the percentage of the code a developer must "examine" to find the fault, but the definition in the source paper focuses on the rank.)'})}),"\n",(0,s.jsx)(t.h3,{id:"purpose-3",children:"Purpose"}),"\n",(0,s.jsx)(t.p,{children:"Similar to MFR, EXAM quantifies the expected effort needed to find the first fault. It is often used as a core metric for comparing the bottom-line effort required by different FL tools."}),"\n",(0,s.jsx)(t.h3,{id:"applications-3",children:"Applications"}),"\n",(0,s.jsx)(t.p,{children:"A common metric used for evaluating and comparing spectrum-based and deep learning-based fault localization approaches."}),"\n",(0,s.jsx)(t.h2,{id:"5-comparative-summary",children:"5. Comparative Summary"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Metric"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Based on"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Purpose"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Typical Domain"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Top-N"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Hit/Miss count"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Measures if the fault is found within the top ",(0,s.jsx)(t.span,{className:"katex",children:(0,s.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(t.semantics,{children:[(0,s.jsx)(t.mrow,{children:(0,s.jsx)(t.mi,{children:"N"})}),(0,s.jsx)(t.annotation,{encoding:"application/x-tex",children:"N"})]})})})," results."]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"FL Evaluation"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"MFR"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Rank"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Averages the rank of the ",(0,s.jsx)(t.em,{children:"first"})," faulty element found."]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"FL Evaluation"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"MAR"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Rank"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Averages the ranks of ",(0,s.jsx)(t.em,{children:"all"})," faulty elements for a bug."]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"FL Evaluation"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"EXAM"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Rank"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Measures the expected rank of the ",(0,s.jsx)(t.em,{children:"first"})," fault found."]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"FL Evaluation"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"key-references",children:"Key References"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Chen, Z., Hu, X., Huang, Y., Zhang, H., Zhou, Y., & Xie, T. (2025). Deep learning-based software engineering: Progress, challenges, and opportunities. Science China Information Sciences, 68(1), Art\xedculo 111102. ",(0,s.jsx)(t.a,{href:"https://doi.org/10.1007/s11432-023-4127-5",children:"https://doi.org/10.1007/s11432-023-4127-5"})]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>r});var n=i(6540);const s={},l=n.createContext(s);function a(e){const t=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);
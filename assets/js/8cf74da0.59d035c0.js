"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[4030],{834:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"metrics/accuracy-overlap/mrr","title":"Mean Reciprocal Rank","description":"Introduction","source":"@site/docs/metrics/accuracy-overlap/mrr.md","sourceDirName":"metrics/accuracy-overlap","slug":"/metrics/accuracy-overlap/mrr","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/mrr","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"mrr","title":"Mean Reciprocal Rank","sidebar_label":"Mean Reciprocal Rank"},"sidebar":"docsSidebar","previous":{"title":"Edit Distance","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/edit-distance"},"next":{"title":"SWE-Judge Score","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/swe"}}');var s=r(4848),t=r(8453);const a={id:"mrr",title:"Mean Reciprocal Rank",sidebar_label:"Mean Reciprocal Rank"},c=void 0,l={},o=[{value:"Introduction",id:"introduction",level:2},{value:"Formula",id:"formula",level:2},{value:"Variants",id:"variants",level:2},{value:"Interpretation",id:"interpretation",level:2},{value:"References",id:"references",level:2},{value:"Additional References in Dataset",id:"additional-references-in-dataset",level:3}];function d(e){const n={a:"a",annotation:"annotation",br:"br",em:"em",h2:"h2",h3:"h3",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",munderover:"munderover",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(n.p,{children:["Mean Reciprocal Rank (MRR) is a ranking-based evaluation metric used to assess how well a model retrieves or ranks relevant results. It measures the position of the first relevant item in a ranked list, emphasizing early retrieval of correct answers.",(0,s.jsx)(n.br,{}),"\n","In software engineering, MRR is particularly valuable for tasks such as code search, API recommendation, and fault localization, where ranking accuracy directly impacts developer productivity."]}),"\n",(0,s.jsx)(n.h2,{id:"formula",children:"Formula"}),"\n",(0,s.jsx)(n.p,{children:"The MRR is defined as:"}),"\n",(0,s.jsx)(n.span,{className:"katex",children:(0,s.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,s.jsxs)(n.semantics,{children:[(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"M"}),(0,s.jsx)(n.mi,{children:"R"}),(0,s.jsx)(n.mi,{children:"R"}),(0,s.jsx)(n.mo,{children:"="}),(0,s.jsxs)(n.mfrac,{children:[(0,s.jsx)(n.mn,{children:"1"}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,s.jsx)(n.mi,{children:"Q"}),(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"})]})]}),(0,s.jsxs)(n.munderover,{children:[(0,s.jsx)(n.mo,{children:"\u2211"}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"i"}),(0,s.jsx)(n.mo,{children:"="}),(0,s.jsx)(n.mn,{children:"1"})]}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,s.jsx)(n.mi,{children:"Q"}),(0,s.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"})]})]}),(0,s.jsxs)(n.mfrac,{children:[(0,s.jsx)(n.mn,{children:"1"}),(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"r"}),(0,s.jsx)(n.mi,{children:"a"}),(0,s.jsx)(n.mi,{children:"n"}),(0,s.jsxs)(n.msub,{children:[(0,s.jsx)(n.mi,{children:"k"}),(0,s.jsx)(n.mi,{children:"i"})]})]})]})]}),(0,s.jsx)(n.annotation,{encoding:"application/x-tex",children:"MRR = \\frac{1}{|Q|} \\sum_{i=1}^{|Q|} \\frac{1}{rank_i}"})]})})}),"\n",(0,s.jsx)(n.p,{children:"Where:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.span,{className:"katex",children:(0,s.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(n.semantics,{children:[(0,s.jsx)(n.mrow,{children:(0,s.jsx)(n.mi,{children:"Q"})}),(0,s.jsx)(n.annotation,{encoding:"application/x-tex",children:"Q"})]})})})," is the set of queries or test cases."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.span,{className:"katex",children:(0,s.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(n.semantics,{children:[(0,s.jsxs)(n.mrow,{children:[(0,s.jsx)(n.mi,{children:"r"}),(0,s.jsx)(n.mi,{children:"a"}),(0,s.jsx)(n.mi,{children:"n"}),(0,s.jsxs)(n.msub,{children:[(0,s.jsx)(n.mi,{children:"k"}),(0,s.jsx)(n.mi,{children:"i"})]})]}),(0,s.jsx)(n.annotation,{encoding:"application/x-tex",children:"rank_i"})]})})})," is the position of the first correct (relevant) result for query ",(0,s.jsx)(n.span,{className:"katex",children:(0,s.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(n.semantics,{children:[(0,s.jsx)(n.mrow,{children:(0,s.jsx)(n.mi,{children:"i"})}),(0,s.jsx)(n.annotation,{encoding:"application/x-tex",children:"i"})]})})}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This metric rewards systems that place correct results higher in the ranking, with scores ranging from 0 (no correct result) to 1 (perfect ranking)."}),"\n",(0,s.jsx)(n.h2,{id:"variants",children:"Variants"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["RR@k (Reciprocal Rank @ k): Measures reciprocal rank but only within the top ",(0,s.jsx)(n.em,{children:"k"})," retrieved results."]}),"\n",(0,s.jsxs)(n.li,{children:["Mean Reciprocal Rank (standard): Averages reciprocal ranks across all queries.",(0,s.jsx)(n.br,{}),"\n","These variations are used depending on dataset scale or retrieval context."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"interpretation",children:"Interpretation"}),"\n",(0,s.jsx)(n.p,{children:"In the context of software engineering, MRR provides an interpretable measure of retrieval efficiency:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A higher MRR indicates that the model consistently ranks the correct result closer to the top."}),"\n",(0,s.jsx)(n.li,{children:"It is particularly effective for code search, bug localization, and question answering, where users typically examine only the first few retrieved results."}),"\n",(0,s.jsxs)(n.li,{children:["However, MRR does not account for multiple relevant results, only the first, so it is often complemented with metrics like ",(0,s.jsx)(n.em,{children:"nDCG"})," or ",(0,s.jsx)(n.em,{children:"MAP"})," in more complex retrieval evaluations."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Recent research (Diaz, 2023) has improved MRR\u2019s sensitivity by integrating lexicographic precision, addressing its limitations in distinguishing among models with similar reciprocal ranks but different ranking quality distributions."}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Diaz, F. (2023)."})," ",(0,s.jsx)(n.em,{children:"Best-Case Retrieval Evaluation: Improving the Sensitivity of Reciprocal Rank with Lexicographic Precision."}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.a,{href:"https://arxiv.org/abs/2306.07908",children:"https://arxiv.org/abs/2306.07908"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"additional-references-in-dataset",children:"Additional References in Dataset"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2, 3, 4, 6, 7, 32, 47, 50"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var i=r(6540);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);
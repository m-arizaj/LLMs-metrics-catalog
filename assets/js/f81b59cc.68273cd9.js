"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[228],{123:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"metrics/accuracy-overlap/f1-score","title":"F1-Score","description":"Introduction","source":"@site/docs/metrics/accuracy-overlap/f1-score.md","sourceDirName":"metrics/accuracy-overlap","slug":"/metrics/accuracy-overlap/f1-score","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/f1-score","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"f1-score","title":"F1-Score","sidebar_label":"F1-Score"},"sidebar":"docsSidebar","previous":{"title":"Pass@k","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/pass-at-k"},"next":{"title":"Exact Match","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/exact-match"}}');var r=n(4848),c=n(8453);const a={id:"f1-score",title:"F1-Score",sidebar_label:"F1-Score"},t=void 0,l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Mathematical Definition",id:"mathematical-definition",level:2},{value:"Variants",id:"variants",level:2},{value:"1. Standard F1-Score",id:"1-standard-f1-score",level:3},{value:"2. Macro-F1",id:"2-macro-f1",level:3},{value:"3. Micro-F1",id:"3-micro-f1",level:3},{value:"Applications in Software Engineering",id:"applications-in-software-engineering",level:2},{value:"Interpretation and Limitations",id:"interpretation-and-limitations",level:2},{value:"References",id:"references",level:2},{value:"Additional References",id:"additional-references",level:2}];function o(e){const i={a:"a",annotation:"annotation",br:"br",em:"em",h2:"h2",h3:"h3",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(i.p,{children:["The F1-score is a harmonic mean between Precision and Recall, designed to balance the trade-off between false positives and false negatives in classification tasks.",(0,r.jsx)(i.br,{}),"\n","It is particularly valuable in imbalanced datasets, where accuracy alone can be misleading.",(0,r.jsx)(i.br,{}),"\n","In Software Engineering, the F1-score is used for evaluating model performance across multiple domains such as bug detection, code repair, classification, semantic similarity, and functional correctness."]}),"\n",(0,r.jsxs)(i.p,{children:["This metric measures the balance between a model\u2019s ability to retrieve relevant instances (recall) and avoid misclassifications (precision), thus serving as a robust indicator of predictive reliability. It is commonly used in ",(0,r.jsx)(i.em,{children:"defect prediction"}),", ",(0,r.jsx)(i.em,{children:"bug localization"}),", ",(0,r.jsx)(i.em,{children:"natural language reasoning"}),", and ",(0,r.jsx)(i.em,{children:"code generation"})," studies."]}),"\n",(0,r.jsx)(i.h2,{id:"mathematical-definition",children:"Mathematical Definition"}),"\n",(0,r.jsx)(i.p,{children:"The classical formulation of the F1-score, as defined in Hand et al. (2021) and Yao & Shepperd (2020), is:"}),"\n",(0,r.jsx)(i.span,{className:"katex",children:(0,r.jsx)(i.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,r.jsxs)(i.semantics,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsxs)(i.msub,{children:[(0,r.jsx)(i.mi,{children:"F"}),(0,r.jsx)(i.mn,{children:"1"})]}),(0,r.jsx)(i.mo,{children:"="}),(0,r.jsx)(i.mn,{children:"2"}),(0,r.jsx)(i.mo,{children:"\u22c5"}),(0,r.jsxs)(i.mfrac,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"P"}),(0,r.jsx)(i.mi,{children:"r"}),(0,r.jsx)(i.mi,{children:"e"}),(0,r.jsx)(i.mi,{children:"c"}),(0,r.jsx)(i.mi,{children:"i"}),(0,r.jsx)(i.mi,{children:"s"}),(0,r.jsx)(i.mi,{children:"i"}),(0,r.jsx)(i.mi,{children:"o"}),(0,r.jsx)(i.mi,{children:"n"}),(0,r.jsx)(i.mo,{children:"\u22c5"}),(0,r.jsx)(i.mi,{children:"R"}),(0,r.jsx)(i.mi,{children:"e"}),(0,r.jsx)(i.mi,{children:"c"}),(0,r.jsx)(i.mi,{children:"a"}),(0,r.jsx)(i.mi,{children:"l"}),(0,r.jsx)(i.mi,{children:"l"})]}),(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"P"}),(0,r.jsx)(i.mi,{children:"r"}),(0,r.jsx)(i.mi,{children:"e"}),(0,r.jsx)(i.mi,{children:"c"}),(0,r.jsx)(i.mi,{children:"i"}),(0,r.jsx)(i.mi,{children:"s"}),(0,r.jsx)(i.mi,{children:"i"}),(0,r.jsx)(i.mi,{children:"o"}),(0,r.jsx)(i.mi,{children:"n"}),(0,r.jsx)(i.mo,{children:"+"}),(0,r.jsx)(i.mi,{children:"R"}),(0,r.jsx)(i.mi,{children:"e"}),(0,r.jsx)(i.mi,{children:"c"}),(0,r.jsx)(i.mi,{children:"a"}),(0,r.jsx)(i.mi,{children:"l"}),(0,r.jsx)(i.mi,{children:"l"})]})]})]}),(0,r.jsx)(i.annotation,{encoding:"application/x-tex",children:"F_1 = 2 \\cdot \\frac{Precision \\cdot Recall}{Precision + Recall}"})]})})}),"\n",(0,r.jsx)(i.p,{children:"where:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.span,{className:"katex",children:(0,r.jsx)(i.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(i.semantics,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"P"}),(0,r.jsx)(i.mi,{children:"r"}),(0,r.jsx)(i.mi,{children:"e"}),(0,r.jsx)(i.mi,{children:"c"}),(0,r.jsx)(i.mi,{children:"i"}),(0,r.jsx)(i.mi,{children:"s"}),(0,r.jsx)(i.mi,{children:"i"}),(0,r.jsx)(i.mi,{children:"o"}),(0,r.jsx)(i.mi,{children:"n"}),(0,r.jsx)(i.mo,{children:"="}),(0,r.jsxs)(i.mfrac,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"T"}),(0,r.jsx)(i.mi,{children:"P"})]}),(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"T"}),(0,r.jsx)(i.mi,{children:"P"}),(0,r.jsx)(i.mo,{children:"+"}),(0,r.jsx)(i.mi,{children:"F"}),(0,r.jsx)(i.mi,{children:"P"})]})]})]}),(0,r.jsx)(i.annotation,{encoding:"application/x-tex",children:"Precision = \\frac{TP}{TP + FP}"})]})})})}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.span,{className:"katex",children:(0,r.jsx)(i.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(i.semantics,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"R"}),(0,r.jsx)(i.mi,{children:"e"}),(0,r.jsx)(i.mi,{children:"c"}),(0,r.jsx)(i.mi,{children:"a"}),(0,r.jsx)(i.mi,{children:"l"}),(0,r.jsx)(i.mi,{children:"l"}),(0,r.jsx)(i.mo,{children:"="}),(0,r.jsxs)(i.mfrac,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"T"}),(0,r.jsx)(i.mi,{children:"P"})]}),(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"T"}),(0,r.jsx)(i.mi,{children:"P"}),(0,r.jsx)(i.mo,{children:"+"}),(0,r.jsx)(i.mi,{children:"F"}),(0,r.jsx)(i.mi,{children:"N"})]})]})]}),(0,r.jsx)(i.annotation,{encoding:"application/x-tex",children:"Recall = \\frac{TP}{TP + FN}"})]})})}),(0,r.jsx)(i.br,{}),"\n","and ",(0,r.jsx)(i.span,{className:"katex",children:(0,r.jsx)(i.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(i.semantics,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"T"}),(0,r.jsx)(i.mi,{children:"P"})]}),(0,r.jsx)(i.annotation,{encoding:"application/x-tex",children:"TP"})]})})}),", ",(0,r.jsx)(i.span,{className:"katex",children:(0,r.jsx)(i.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(i.semantics,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"F"}),(0,r.jsx)(i.mi,{children:"P"})]}),(0,r.jsx)(i.annotation,{encoding:"application/x-tex",children:"FP"})]})})}),", and ",(0,r.jsx)(i.span,{className:"katex",children:(0,r.jsx)(i.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(i.semantics,{children:[(0,r.jsxs)(i.mrow,{children:[(0,r.jsx)(i.mi,{children:"F"}),(0,r.jsx)(i.mi,{children:"N"})]}),(0,r.jsx)(i.annotation,{encoding:"application/x-tex",children:"FN"})]})})})," denote the true positive, false positive, and false negative counts respectively."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"The F1-score ranges from 0 to 1, with 1 representing perfect precision and recall."}),"\n",(0,r.jsx)(i.h2,{id:"variants",children:"Variants"}),"\n",(0,r.jsx)(i.p,{children:"Although naming conventions differ across studies, the F1 metric family can be reduced to three main variants:"}),"\n",(0,r.jsx)(i.h3,{id:"1-standard-f1-score",children:"1. Standard F1-Score"}),"\n",(0,r.jsxs)(i.p,{children:["Used for binary or balanced classification tasks.",(0,r.jsx)(i.br,{}),"\n","Common in general NLP and SE evaluations for correctness and reasoning performance."]}),"\n",(0,r.jsx)(i.h3,{id:"2-macro-f1",children:"2. Macro-F1"}),"\n",(0,r.jsx)(i.p,{children:"Computes the unweighted mean of F1-scores across all classes, giving equal importance to each class regardless of frequency."}),"\n",(0,r.jsx)(i.h3,{id:"3-micro-f1",children:"3. Micro-F1"}),"\n",(0,r.jsxs)(i.p,{children:["Aggregates all instances before calculating precision and recall, thus weighting classes by their number of samples.",(0,r.jsx)(i.br,{}),"\n","It is widely applied in Named Entity Recognition (NER), token-level classification, and non-code SE tasks like ",(0,r.jsx)(i.em,{children:"SELU"})," (Software Engineering Language Understanding)."]}),"\n",(0,r.jsx)(i.h2,{id:"applications-in-software-engineering",children:"Applications in Software Engineering"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Context"}),(0,r.jsx)(i.th,{children:"Example Benchmarks/Datasets"}),(0,r.jsx)(i.th,{children:"Purpose"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Bug Detection / Repair"})}),(0,r.jsx)(i.td,{children:"Defects4J, QuixBugs"}),(0,r.jsx)(i.td,{children:"Evaluates detection and repair accuracy in software faults"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Code Generation"})}),(0,r.jsx)(i.td,{children:"CodeXGLUE, General LLM Evaluation"}),(0,r.jsx)(i.td,{children:"Measures correctness in generated code classification"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Clone Detection"})}),(0,r.jsx)(i.td,{children:"BigCloneBench"}),(0,r.jsx)(i.td,{children:"Assesses semantic similarity between code fragments"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"Reasoning / QA"})}),(0,r.jsx)(i.td,{children:"Commonsense datasets, NaturalQuestions"}),(0,r.jsx)(i.td,{children:"Quantifies reasoning accuracy in LLMs"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.strong,{children:"NER / Token Classification"})}),(0,r.jsx)(i.td,{children:"SELU"}),(0,r.jsx)(i.td,{children:"Evaluates entity-level prediction balance (micro-averaged F1)"})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"interpretation-and-limitations",children:"Interpretation and Limitations"}),"\n",(0,r.jsxs)(i.p,{children:["While powerful, the F1-score can be misleading in imbalanced datasets, as it overlooks true negatives and can inflate perceived performance.",(0,r.jsx)(i.br,{}),"\n","Yao & Shepperd (2021) found that over 21.95% of performance comparisons in software defect prediction studies change direction when using F1 instead of the Matthews Correlation Coefficient (MCC), demonstrating its sensitivity to class imbalance."]}),"\n",(0,r.jsxs)(i.p,{children:["Hand et al. (2021) further highlight that the harmonic mean formulation of F1 complicates interpretability and propose F* \u2014 an interpretable transformation of the F-measure \u2014 to address this issue.",(0,r.jsx)(i.br,{}),"\n","Therefore, while F1 remains a standard metric, it should be complemented by Precision, Recall, or MCC for a complete evaluation."]}),"\n",(0,r.jsx)(i.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["Hand, D. J., Christen, P., & Kirielle, N. (2021). ",(0,r.jsx)(i.em,{children:"F: An Interpretable Transformation of the F-measure."}),(0,r.jsx)(i.br,{}),"\n","arXiv preprint.",(0,r.jsx)(i.br,{}),"\n",(0,r.jsx)(i.a,{href:"https://doi.org/10.1007/s10994-021-05964-1",children:"https://doi.org/10.1007/s10994-021-05964-1"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["Yao, J., & Shepperd, M. (2020). ",(0,r.jsx)(i.em,{children:"Assessing Software Defect Prediction Performance: Why using the Matthews correlation        coefficient matters."}),(0,r.jsx)(i.br,{}),"\n","arXiv preprint.",(0,r.jsx)(i.br,{}),"\n",(0,r.jsx)(i.a,{href:"https://doi.org/10.48550/arXiv.2003.01182",children:"https://doi.org/10.48550/arXiv.2003.01182"})]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["Yao, J., & Shepperd, M. (2021). ",(0,r.jsx)(i.em,{children:"The impact of using biased performance metrics on software defect prediction research."}),(0,r.jsx)(i.br,{}),"\n",(0,r.jsx)(i.a,{href:"https://doi.org/10.48550/arXiv.2103.10201",children:"https://doi.org/10.48550/arXiv.2103.10201"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"additional-references",children:"Additional References"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"2, 3, 4, 5, 6, 7, 9, 10, 26, 32, 43, 50, 55, 61"}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>t});var s=n(6540);const r={},c=s.createContext(r);function a(e){const i=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(c.Provider,{value:i},e.children)}}}]);
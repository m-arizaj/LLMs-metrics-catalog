"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[4347],{6837:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"metrics/generative/spatial-fid","title":"Spatial FID (sFID)","description":"Definition","source":"@site/docs/metrics/generative/Spatial-fid.md","sourceDirName":"metrics/generative","slug":"/metrics/generative/spatial-fid","permalink":"/LLMs-metrics-catalog/metrics/generative/spatial-fid","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"spatial-fid","title":"Spatial FID (sFID)","sidebar_label":"Spatial FID (sFID)"},"sidebar":"docsSidebar","previous":{"title":"SIDE","permalink":"/LLMs-metrics-catalog/metrics/generative/side"},"next":{"title":"Cog Metric","permalink":"/LLMs-metrics-catalog/metrics/logical/cog-metric"}}');var r=i(4848),a=i(8453);const t={id:"spatial-fid",title:"Spatial FID (sFID)",sidebar_label:"Spatial FID (sFID)"},l=void 0,c={},d=[{value:"Definition",id:"definition",level:2},{value:"Formula (General Idea)",id:"formula-general-idea",level:2},{value:"Purpose",id:"purpose",level:2},{value:"Domains",id:"domains",level:2},{value:"Benchmarks",id:"benchmarks",level:2},{value:"Advantages",id:"advantages",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Key References",id:"key-references",level:2}];function h(e){const n={a:"a",annotation:"annotation",code:"code",em:"em",h2:"h2",hr:"hr",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msubsup:"msubsup",msup:"msup",mtext:"mtext",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Spatial FID (sFID)"})," is an alternative metric for ranking generative models, introduced as a variation of the standard Fr\xe9chet Inception Distance (FID)."]}),"\n",(0,r.jsxs)(n.p,{children:["The key difference is the source of the feature representations. While the standard FID uses activations from the final ",(0,r.jsx)(n.code,{children:"pool3"})," layer (2048-dimensional) of the Inception-V3 network, ",(0,r.jsx)(n.strong,{children:"sFID computes the FID using activations from an earlier, intermediate layer"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Specifically, it uses the ",(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"mixed_6/conv"})," layer"]})," of the Inception-V3 network."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"formula-general-idea",children:"Formula (General Idea)"}),"\n",(0,r.jsx)(n.p,{children:"The underlying mathematical calculation for sFID is the same Fr\xe9chet Distance (FD) formula used by the standard FID:"}),"\n",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"F"}),(0,r.jsx)(n.mi,{children:"D"}),(0,r.jsx)(n.mo,{stretchy:"false",children:"("}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"\u03bc"}),(0,r.jsx)(n.mi,{children:"r"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,r.jsx)(n.mi,{children:"r"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"\u03bc"}),(0,r.jsx)(n.mi,{children:"g"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,r.jsx)(n.mi,{children:"g"})]}),(0,r.jsx)(n.mo,{stretchy:"false",children:")"}),(0,r.jsx)(n.mo,{children:"="}),(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"\u03bc"}),(0,r.jsx)(n.mi,{children:"r"})]}),(0,r.jsx)(n.mo,{children:"\u2212"}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"\u03bc"}),(0,r.jsx)(n.mi,{children:"g"})]}),(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,r.jsxs)(n.msubsup,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,r.jsx)(n.mn,{children:"2"}),(0,r.jsx)(n.mn,{children:"2"})]}),(0,r.jsx)(n.mo,{children:"+"}),(0,r.jsx)(n.mtext,{children:"Tr"}),(0,r.jsx)(n.mo,{stretchy:"false",children:"("}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,r.jsx)(n.mi,{children:"r"})]}),(0,r.jsx)(n.mo,{children:"+"}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,r.jsx)(n.mi,{children:"g"})]}),(0,r.jsx)(n.mo,{children:"\u2212"}),(0,r.jsx)(n.mn,{children:"2"}),(0,r.jsx)(n.mo,{stretchy:"false",children:"("}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,r.jsx)(n.mi,{children:"r"})]}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,r.jsx)(n.mi,{children:"g"})]}),(0,r.jsxs)(n.msup,{children:[(0,r.jsx)(n.mo,{stretchy:"false",children:")"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mn,{children:"1"}),(0,r.jsx)(n.mi,{mathvariant:"normal",children:"/"}),(0,r.jsx)(n.mn,{children:"2"})]})]}),(0,r.jsx)(n.mo,{stretchy:"false",children:")"})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"FD(\\mu_r, \\Sigma_r, \\mu_g, \\Sigma_g) = ||\\mu_r - \\mu_g||_2^2 + \\text{Tr}(\\Sigma_r + \\Sigma_g - 2(\\Sigma_r \\Sigma_g)^{1/2})"})]})})}),"\n",(0,r.jsx)(n.p,{children:"where:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"\u03bc"}),(0,r.jsx)(n.mi,{children:"r"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"\u03bc"}),(0,r.jsx)(n.mi,{children:"g"})]})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mu_r, \\mu_g"})]})})})," = The sample means of the real and generated representations."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,r.jsx)(n.mi,{children:"r"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"}),(0,r.jsx)(n.mi,{children:"g"})]})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\Sigma_r, \\Sigma_g"})]})})})," = The sample covariances of the real and generated representations."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The distinction is that these ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsx)(n.mi,{children:"\u03bc"})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mu"})]})})})," and ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsx)(n.mi,{mathvariant:"normal",children:"\u03a3"})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\Sigma"})]})})})," values are derived from the feature maps of the ",(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"mixed_6/conv"})," layer"]}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"The purpose of sFID is to serve as an alternative to the standard FID for ranking generative models. By using an intermediate layer, it presumably captures different (more spatial and less class-abstracted) features than the final pooling layer used by FID."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"domains",children:"Domains"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Generative Models / Image Generation"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"benchmarks",children:"Benchmarks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["sFID evaluation is dependent on the ",(0,r.jsx)(n.strong,{children:"Inception-V3"})," model."]}),"\n",(0,r.jsxs)(n.li,{children:["The Inception-V3 model used is the one trained on ",(0,r.jsx)(n.strong,{children:"ImageNet1k"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"advantages",children:"Advantages"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"(Source 67 identifies sFID as an alternative ranking metric  but does not explicitly state its advantages over the standard FID.)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Inception-V3 Dependency:"})," The sFID metric, by definition, relies on the Inception-V3 network."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Non-Transferable:"})," Because it is tied to a specific layer in Inception-V3, the metric is not reported for other (non-Inception) network architectures."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"key-references",children:"Key References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Stein, G., Cresswell, J. C., Hosseinzadeh, R., Sui, Y., Ross, B. L., Villecroze, V., ... & Loaiza-Ganem, G. (2023). ",(0,r.jsx)(n.em,{children:"Exposing flaws of generative model evaluation metrics and their unfair treatment of diffusion models"}),". ",(0,r.jsx)(n.a,{href:"https://doi.org/10.48550/arXiv.2306.04675",children:"https://doi.org/10.48550/arXiv.2306.04675"})]}),"\n",(0,r.jsx)(n.li,{children:"(Excel Data: Paper 67)"}),"\n",(0,r.jsxs)(n.li,{children:["Nash, C., Menick, J., Dieleman, S., & Battaglia, P. W. (2021). ",(0,r.jsx)(n.em,{children:"Generating images with sparse representations"}),". ",(0,r.jsx)(n.a,{href:"https://doi.org/10.48550/arXiv.2103.03841",children:"https://doi.org/10.48550/arXiv.2103.03841"})]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var s=i(6540);const r={},a=s.createContext(r);function t(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);
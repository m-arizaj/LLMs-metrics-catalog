"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[7030],{8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>c});var s=i(6540);const r={},t=s.createContext(r);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(t.Provider,{value:n},e.children)}},9960:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"metrics/accuracy-overlap/moverscore","title":"MoverScore","description":"Introduction","source":"@site/docs/metrics/accuracy-overlap/moverscore.md","sourceDirName":"metrics/accuracy-overlap","slug":"/metrics/accuracy-overlap/moverscore","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/moverscore","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"moverscore","title":"MoverScore","sidebar_label":"MoverScore"},"sidebar":"docsSidebar","previous":{"title":"CodeScore","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/codescore"},"next":{"title":"ICE-Score","permalink":"/LLMs-metrics-catalog/metrics/statistical/ice-score"}}');var r=i(4848),t=i(8453);const a={id:"moverscore",title:"MoverScore",sidebar_label:"MoverScore"},c=void 0,l={},o=[{value:"Introduction",id:"introduction",level:2},{value:"Formula and Structure",id:"formula-and-structure",level:2},{value:"Variants and Implementations",id:"variants-and-implementations",level:2},{value:"1. Standard MoverScore",id:"1-standard-moverscore",level:3},{value:"3. IDF-Weighted MoverScore",id:"3-idf-weighted-moverscore",level:3},{value:"Interpretation",id:"interpretation",level:2},{value:"References",id:"references",level:2},{value:"Additional References in Dataset",id:"additional-references-in-dataset",level:3}];function d(e){const n={a:"a",annotation:"annotation",br:"br",em:"em",h2:"h2",h3:"h3",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mspace:"mspace",msub:"msub",mtext:"mtext",munder:"munder",ol:"ol",p:"p",semantics:"semantics",span:"span",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.p,{children:['MoverScore is a semantic similarity metric that evaluates the quality of generated text by comparing it with reference outputs using contextualized embeddings (e.g., BERT, ELMo) and Earth Mover\u2019s Distance (EMD).Unlike purely lexical measures such as BLEU or ROUGE, MoverScore captures semantic meaning and contextual alignment between sentences by computing the minimal cost required to "move" semantic information from the candidate text to the reference.',(0,r.jsx)(n.br,{}),"\n","This metric has proven highly correlated with human judgments across various natural language generation tasks including machine translation, summarization, and dialogue generation, and has been recently adopted in software engineering contexts to evaluate embedding-based similarity between generated and reference code snippets."]}),"\n",(0,r.jsx)(n.h2,{id:"formula-and-structure",children:"Formula and Structure"}),"\n",(0,r.jsxs)(n.p,{children:["MoverScore is derived from the concept of Word Mover\u2019s Distance (WMD), applied to contextualized embeddings. For a generated text ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsx)(n.mi,{children:"x"})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"x"})]})})})," and a reference text ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsx)(n.mi,{children:"y"})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"y"})]})})}),", the metric minimizes the cost to align the two distributions of word embeddings:"]}),"\n",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mtext,{children:"MoverScore"}),(0,r.jsx)(n.mo,{stretchy:"false",children:"("}),(0,r.jsx)(n.mi,{children:"x"}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsx)(n.mi,{children:"y"}),(0,r.jsx)(n.mo,{stretchy:"false",children:")"}),(0,r.jsx)(n.mo,{children:"="}),(0,r.jsx)(n.mn,{children:"1"}),(0,r.jsx)(n.mo,{children:"\u2212"}),(0,r.jsxs)(n.munder,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"min"}),(0,r.jsx)(n.mo,{children:"\u2061"})]}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"T"}),(0,r.jsx)(n.mo,{children:"\u2265"}),(0,r.jsx)(n.mn,{children:"0"})]})]}),(0,r.jsxs)(n.munder,{children:[(0,r.jsx)(n.mo,{children:"\u2211"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"i"}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsx)(n.mi,{children:"j"})]})]}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"T"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"i"}),(0,r.jsx)(n.mi,{children:"j"})]})]}),(0,r.jsx)(n.mtext,{children:"\u2009"}),(0,r.jsx)(n.mi,{children:"c"}),(0,r.jsx)(n.mo,{stretchy:"false",children:"("}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"i"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"j"})]}),(0,r.jsx)(n.mo,{stretchy:"false",children:")"})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\text{MoverScore}(x, y) = 1 - \\min_{T \\ge 0} \\sum_{i,j} T_{ij} \\, c(w_i, w_j)"})]})})}),"\n",(0,r.jsx)(n.p,{children:"subject to:"}),"\n",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsxs)(n.munder,{children:[(0,r.jsx)(n.mo,{children:"\u2211"}),(0,r.jsx)(n.mi,{children:"j"})]}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"T"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"i"}),(0,r.jsx)(n.mi,{children:"j"})]})]}),(0,r.jsx)(n.mo,{children:"="}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"p"}),(0,r.jsx)(n.mi,{children:"i"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsx)(n.mspace,{width:"1em"}),(0,r.jsxs)(n.munder,{children:[(0,r.jsx)(n.mo,{children:"\u2211"}),(0,r.jsx)(n.mi,{children:"i"})]}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"T"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"i"}),(0,r.jsx)(n.mi,{children:"j"})]})]}),(0,r.jsx)(n.mo,{children:"="}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"q"}),(0,r.jsx)(n.mi,{children:"j"})]})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\sum_j T_{ij} = p_i, \\quad \\sum_i T_{ij} = q_j"})]})})}),"\n",(0,r.jsx)(n.p,{children:"where:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"T"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"i"}),(0,r.jsx)(n.mi,{children:"j"})]})]})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"T_{ij}"})]})})}),' represents the flow of semantic "mass" from token ',(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsx)(n.mi,{children:"i"})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"i"})]})})})," in ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsx)(n.mi,{children:"x"})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"x"})]})})})," to token ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsx)(n.mi,{children:"j"})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"j"})]})})})," in ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsx)(n.mi,{children:"y"})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"y"})]})})}),","]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"c"}),(0,r.jsx)(n.mo,{stretchy:"false",children:"("}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"i"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"j"})]}),(0,r.jsx)(n.mo,{stretchy:"false",children:")"})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"c(w_i, w_j)"})]})})})," is the semantic cost, typically computed as ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mn,{children:"1"}),(0,r.jsx)(n.mo,{children:"\u2212"}),(0,r.jsx)(n.mi,{children:"cos"}),(0,r.jsx)(n.mo,{children:"\u2061"}),(0,r.jsx)(n.mo,{stretchy:"false",children:"("}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"i"})]}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"j"})]}),(0,r.jsx)(n.mo,{stretchy:"false",children:")"})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"1 - \\cos(w_i, w_j)"})]})})}),","]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"p"}),(0,r.jsx)(n.mi,{children:"i"})]})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"p_i"})]})})})," and ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"q"}),(0,r.jsx)(n.mi,{children:"j"})]})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"q_j"})]})})})," are normalized weights for each token, often proportional to their inverse document frequency (IDF)."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The metric outputs a value between 0 and 1, where higher values indicate stronger semantic similarity."}),"\n",(0,r.jsx)(n.h2,{id:"variants-and-implementations",children:"Variants and Implementations"}),"\n",(0,r.jsx)(n.h3,{id:"1-standard-moverscore",children:"1. Standard MoverScore"}),"\n",(0,r.jsxs)(n.p,{children:["The original formulation proposed by Zhao et al. (2019) computes a semantic transport distance using contextual embeddings.",(0,r.jsx)(n.br,{}),"\n","It measures how well generated outputs semantically align with references, even when lexical overlap is low."]}),"\n",(0,r.jsx)(n.h3,{id:"3-idf-weighted-moverscore",children:"3. IDF-Weighted MoverScore"}),"\n",(0,r.jsxs)(n.p,{children:["Weights embeddings using inverse document frequency to emphasize rare and meaningful tokens.",(0,r.jsx)(n.br,{}),"\n","This variant helps reduce the influence of common or trivial words in both text and code."]}),"\n",(0,r.jsx)(n.h2,{id:"interpretation",children:"Interpretation"}),"\n",(0,r.jsx)(n.p,{children:"MoverScore provides a fine-grained and semantically aware similarity assessment. A higher MoverScore indicates stronger contextual alignment between generated and reference outputs. In software engineering, it serves as a semantic analog to BLEU or CodeBLEU, allowing evaluators to measure whether two code snippets perform similar functions, even with differing syntax or variable names."}),"\n",(0,r.jsx)(n.p,{children:"Because it incorporates contextual embeddings and distance-based matching, MoverScore is robust to paraphrasing, lexical variation, and syntactic transformations, making it a powerful tool for evaluating both natural language and code generation models."}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Zhao, W., Peyrard, M., Liu, F., Gao, Y., Meyer, C. M., & Eger, S. (2019)."}),(0,r.jsx)(n.br,{}),"\n","MoverScore: Text Generation Evaluating with Contextualized Embeddings and Earth Mover Distance.",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"https://arxiv.org/abs/1909.02622",children:"https://arxiv.org/abs/1909.02622"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"additional-references-in-dataset",children:"Additional References in Dataset"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"1,\xa011"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);
"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[6099],{788:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"metrics/architectural/planning-metrics","title":"Planning Metrics","description":"Introduction","source":"@site/docs/metrics/architectural/planning-metrics.md","sourceDirName":"metrics/architectural","slug":"/metrics/architectural/planning-metrics","permalink":"/LLMs-metrics-catalog/metrics/architectural/planning-metrics","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"planning-metrics","title":"Planning Metrics","sidebar_label":"Planning Metrics"},"sidebar":"docsSidebar","previous":{"title":"IDC","permalink":"/LLMs-metrics-catalog/metrics/architectural/incremental"},"next":{"title":"Dialogue Similarities","permalink":"/LLMs-metrics-catalog/metrics/creativity/dialogue-similarities"}}');var t=i(4848),l=i(8453);const r={id:"planning-metrics",title:"Planning Metrics",sidebar_label:"Planning Metrics"},a=void 0,c={},o=[{value:"Introduction",id:"introduction",level:2},{value:"1. Length of Planning",id:"1-length-of-planning",level:2},{value:"Definition",id:"definition",level:3},{value:"Purpose",id:"purpose",level:3},{value:"Applications",id:"applications",level:3},{value:"Limitations",id:"limitations",level:3},{value:"2. Plan Score",id:"2-plan-score",level:2},{value:"Definition",id:"definition-1",level:3},{value:"Formula (General Idea)",id:"formula-general-idea",level:3},{value:"Purpose",id:"purpose-1",level:3},{value:"Applications",id:"applications-1",level:3},{value:"Limitations",id:"limitations-1",level:3},{value:"3. Comparative Summary",id:"3-comparative-summary",level:2},{value:"References",id:"references",level:2},{value:"Additional References",id:"additional-references",level:3}];function d(e){const n={a:"a",annotation:"annotation",em:"em",h2:"h2",h3:"h3",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msup:"msup",mtext:"mtext",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(n.p,{children:["In the context of LLM-based autonomous agents, ",(0,t.jsx)(n.strong,{children:"planning"}),' is a critical capability that allows an agent to deconstruct a complex task into simpler, solvable subtasks. This module is essential for making agents "behave more reasonably, powerfully, and reliably".']}),"\n",(0,t.jsx)(n.p,{children:'For tool-learning agents, this is especially important, as "inter-connected tools require holistic and efficient planning" to be used correctly.'}),"\n",(0,t.jsxs)(n.p,{children:["To evaluate how well an agent formulates these plans, specific metrics are used. These metrics generally fall into two categories: ",(0,t.jsx)(n.strong,{children:"efficiency metrics"}),", which measure the cost or length of a plan, and ",(0,t.jsx)(n.strong,{children:"output quality metrics"}),", which measure the correctness or similarity of the plan compared to an ideal solution. This document covers two key metrics used in agent evaluation: ",(0,t.jsx)(n.strong,{children:"Length of Planning"})," and ",(0,t.jsx)(n.strong,{children:"Plan Score"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"1-length-of-planning",children:"1. Length of Planning"}),"\n",(0,t.jsx)(n.h3,{id:"definition",children:"Definition"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Length of Planning"})," is an objective evaluation metric used to assess the ",(0,t.jsx)(n.strong,{children:"efficiency"})," of an autonomous agent. It is defined as the number of steps, operations, or reasoning steps an agent includes in its generated plan to accomplish a task."]}),"\n",(0,t.jsx)(n.h3,{id:"purpose",children:"Purpose"}),"\n",(0,t.jsx)(n.p,{children:"The primary purpose of this metric is to quantify the efficiency of an agent's reasoning process. In general, a plan with fewer steps is considered more efficient, assuming it successfully completes the task. It is often measured alongside other efficiency metrics like development cost and inference speed."}),"\n",(0,t.jsx)(n.h3,{id:"applications",children:"Applications"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LLM Agents / Autonomous Agents:"})," Used in objective evaluation protocols to measure the efficiency of agent performance."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Task Planning:"})," It helps compare the conciseness of plans generated by different agents for the same complex task."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"limitations",children:"Limitations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["This metric only measures efficiency (length) and does not, by itself, measure the ",(0,t.jsx)(n.strong,{children:"correctness"})," or ",(0,t.jsx)(n.strong,{children:"quality"})," of the plan. A short plan may be inefficient if it fails to solve the task."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"2-plan-score",children:"2. Plan Score"}),"\n",(0,t.jsx)(n.h3,{id:"definition-1",children:"Definition"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Plan Score"})," is an objective metric introduced in the ",(0,t.jsx)(n.strong,{children:"T-Eval"})," benchmark [cite: 1170] to evaluate the ",(0,t.jsx)(n.strong,{children:"output quality"})," of an agent's plan. It measures the ",(0,t.jsx)(n.strong,{children:'similarity between the agent\'s predicted plan and a "gold answer"'})," (a correct plan, often from human annotators)."]}),"\n",(0,t.jsx)(n.p,{children:"The score is calculated based on the F1-score (harmonic mean) of precision and recall, which are derived from the longest common subsequence of actions between the predicted and gold plans[cite: 972, 973, 975]."}),"\n",(0,t.jsx)(n.h3,{id:"formula-general-idea",children:"Formula (General Idea)"}),"\n",(0,t.jsx)(n.p,{children:"The calculation involves several steps:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Similarity Matrix (",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsx)(n.mi,{children:"S"})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"S"})]})})}),"):"]})," First, a similarity matrix is computed for all action pairs (",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsxs)(n.mrow,{children:[(0,t.jsxs)(n.msub,{children:[(0,t.jsx)(n.mi,{children:"a"}),(0,t.jsx)(n.mi,{children:"i"})]}),(0,t.jsx)(n.mo,{separator:"true",children:","}),(0,t.jsxs)(n.msub,{children:[(0,t.jsx)(n.mi,{children:"a"}),(0,t.jsx)(n.mi,{children:"j"})]})]}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"a_i, a_j"})]})})}),") between the predicted plan and the gold plan. This similarity considers both the tool chosen and its arguments.","\n",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsxs)(n.mrow,{children:[(0,t.jsxs)(n.msub,{children:[(0,t.jsx)(n.mi,{children:"S"}),(0,t.jsxs)(n.mrow,{children:[(0,t.jsx)(n.mi,{children:"i"}),(0,t.jsx)(n.mo,{separator:"true",children:","}),(0,t.jsx)(n.mi,{children:"j"})]})]}),(0,t.jsx)(n.mo,{children:"="}),(0,t.jsx)(n.mi,{children:"\u03b2"}),(0,t.jsx)(n.mi,{children:"\u03c3"}),(0,t.jsx)(n.mo,{stretchy:"false",children:"("}),(0,t.jsxs)(n.msub,{children:[(0,t.jsx)(n.mtext,{children:"tool"}),(0,t.jsx)(n.mi,{children:"i"})]}),(0,t.jsx)(n.mo,{separator:"true",children:","}),(0,t.jsxs)(n.msub,{children:[(0,t.jsx)(n.mtext,{children:"tool"}),(0,t.jsx)(n.mi,{children:"j"})]}),(0,t.jsx)(n.mo,{stretchy:"false",children:")"}),(0,t.jsx)(n.mo,{children:"+"}),(0,t.jsx)(n.mo,{stretchy:"false",children:"("}),(0,t.jsx)(n.mn,{children:"1"}),(0,t.jsx)(n.mo,{children:"\u2212"}),(0,t.jsx)(n.mi,{children:"\u03b2"}),(0,t.jsx)(n.mo,{stretchy:"false",children:")"}),(0,t.jsx)(n.mi,{children:"\u03c3"}),(0,t.jsx)(n.mo,{stretchy:"false",children:"("}),(0,t.jsxs)(n.msub,{children:[(0,t.jsx)(n.mtext,{children:"args"}),(0,t.jsx)(n.mi,{children:"i"})]}),(0,t.jsx)(n.mo,{separator:"true",children:","}),(0,t.jsxs)(n.msub,{children:[(0,t.jsx)(n.mtext,{children:"args"}),(0,t.jsx)(n.mi,{children:"j"})]}),(0,t.jsx)(n.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"S_{i,j}=\\beta\\sigma(\\text{tool}_{i},\\text{tool}_{j})+(1-\\beta)\\sigma(\\text{args}_{i},\\text{args}_{j})"})]})})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Longest Subsequence (",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsx)(n.mi,{children:"l"})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"l"})]})})}),"):"]})," The Longest Increasing Subsequence (LIS) algorithm is used on the similarity matrix ",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsx)(n.mi,{children:"S"})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"S"})]})})})," to find the length (",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsx)(n.mi,{children:"l"})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"l"})]})})}),") of the longest-ordered, matching action sequence."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Precision (",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsx)(n.mi,{children:"p"})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"p"})]})})}),") and Recall (",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsx)(n.mi,{children:"r"})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"r"})]})})}),"):"]})," Precision and recall are calculated based on ",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsx)(n.mi,{children:"l"})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"l"})]})})})," and the lengths of the predicted (",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsxs)(n.msup,{children:[(0,t.jsx)(n.mi,{children:"n"}),(0,t.jsx)(n.mtext,{children:"pred"})]})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"n^{\\text{pred}}"})]})})}),") and gold (",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsx)(n.mrow,{children:(0,t.jsxs)(n.msup,{children:[(0,t.jsx)(n.mi,{children:"n"}),(0,t.jsx)(n.mtext,{children:"gt"})]})}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"n^{\\text{gt}}"})]})})}),") plans.","\n",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsxs)(n.mrow,{children:[(0,t.jsx)(n.mi,{children:"p"}),(0,t.jsx)(n.mo,{children:"="}),(0,t.jsx)(n.mi,{children:"l"}),(0,t.jsx)(n.mi,{mathvariant:"normal",children:"/"}),(0,t.jsxs)(n.msup,{children:[(0,t.jsx)(n.mi,{children:"n"}),(0,t.jsx)(n.mtext,{children:"pred"})]})]}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"p = l / n^{\\text{pred}}"})]})})}),"\n",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsxs)(n.mrow,{children:[(0,t.jsx)(n.mi,{children:"r"}),(0,t.jsx)(n.mo,{children:"="}),(0,t.jsx)(n.mi,{children:"l"}),(0,t.jsx)(n.mi,{mathvariant:"normal",children:"/"}),(0,t.jsxs)(n.msup,{children:[(0,t.jsx)(n.mi,{children:"n"}),(0,t.jsx)(n.mtext,{children:"gt"})]})]}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"r = l / n^{\\text{gt}}"})]})})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Plan Score:"})," The final score is the F1-score (harmonic mean) of precision and recall.","\n",(0,t.jsx)(n.span,{className:"katex",children:(0,t.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,t.jsxs)(n.semantics,{children:[(0,t.jsxs)(n.mrow,{children:[(0,t.jsx)(n.mtext,{children:"planscore"}),(0,t.jsx)(n.mo,{children:"="}),(0,t.jsxs)(n.mfrac,{children:[(0,t.jsxs)(n.mrow,{children:[(0,t.jsx)(n.mn,{children:"2"}),(0,t.jsx)(n.mi,{children:"p"}),(0,t.jsx)(n.mi,{children:"r"})]}),(0,t.jsxs)(n.mrow,{children:[(0,t.jsx)(n.mi,{children:"p"}),(0,t.jsx)(n.mo,{children:"+"}),(0,t.jsx)(n.mi,{children:"r"})]})]})]}),(0,t.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\text{planscore} = \\frac{2pr}{p+r}"})]})})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"purpose-1",children:"Purpose"}),"\n",(0,t.jsx)(n.p,{children:"The purpose of the Plan Score is to quantify the quality of a generated plan, rewarding agents that produce plans structurally and functionally similar to a human-annotated correct solution."}),"\n",(0,t.jsx)(n.h3,{id:"applications-1",children:"Applications"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LLM Agents / Tool Learning:"})," Used to evaluate the quality of plans generated for multi-step, multi-tool tasks."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"T-Eval Benchmark:"})," The metric is a core component of the T-Eval benchmark for evaluating tool utilization."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"limitations-1",children:"Limitations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'This metric requires a "gold answer" or human-annotated plan for comparison. This makes it difficult to use in open-ended scenarios where multiple, distinct plans could all be correct.'}),"\n",(0,t.jsx)(n.li,{children:"The calculation is complex, relying on similarity matching and subsequence algorithms."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"3-comparative-summary",children:"3. Comparative Summary"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Metric"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Primary Goal"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"How it Works"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Category"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Requires Gold Standard?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Length of Planning"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:["Measure plan ",(0,t.jsx)(n.strong,{children:"efficiency"})]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Counts the number of steps in the generated plan."}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Efficiency"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Plan Score"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:["Measure plan ",(0,t.jsx)(n.strong,{children:"quality"})," and ",(0,t.jsx)(n.strong,{children:"correctness"})]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Calculates an F1-score based on similarity (tool & args) to a gold-standard plan."}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Output Quality"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Yes"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Chen, Z., Du, W., Zhang, W. et al. (2023). T-eval: Evaluating the tool utilization capability step by step. ",(0,t.jsx)(n.em,{children:"ArXiv preprint arXiv:2312.14033"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Liu, B., Jiang, Y., Zhang, X. et al. (2023a). Llm+ p: empowering large language models with optimal planning proficiency. ",(0,t.jsx)(n.em,{children:"ArXiv preprint arXiv:2304.11477"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"additional-references",children:"Additional References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Wang, L., Ma, C., Feng, X. et al. A survey on large language model based autonomous agents. Front. Comput. Sci. 18, 186345 (2024). ",(0,t.jsx)(n.a,{href:"https://doi-org.ezproxy.uniandes.edu.co/10.1007/s11704-024-40231-1",children:"https://doi-org.ezproxy.uniandes.edu.co/10.1007/s11704-024-40231-1"})," (Paper 49)"]}),"\n",(0,t.jsxs)(n.li,{children:["Xu, W., Huang, C., Gao, S. et al. LLM-Based Agents for Tool Learning: A Survey. Data Sci. Eng. (2025). ",(0,t.jsx)(n.a,{href:"https://doi-org.ezproxy.uniandes.edu.co/10.1007/s41019-025-00296-9",children:"https://doi-org.ezproxy.uniandes.edu.co/10.1007/s41019-025-00296-9"})," (Paper 48)"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(6540);const t={},l=s.createContext(t);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);
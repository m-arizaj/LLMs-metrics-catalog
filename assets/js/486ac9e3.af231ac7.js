"use strict";(self.webpackChunkll_ms_metrics_catalog=self.webpackChunkll_ms_metrics_catalog||[]).push([[32],{4978:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"metrics/accuracy-overlap/bleu","title":"BLEU","description":"Introduction","source":"@site/docs/metrics/accuracy-overlap/bleu.md","sourceDirName":"metrics/accuracy-overlap","slug":"/metrics/accuracy-overlap/bleu","permalink":"/LLMs-metrics-catalog/metrics/accuracy-overlap/bleu","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"bleu","title":"BLEU","sidebar_label":"BLEU"},"sidebar":"docsSidebar","previous":{"title":"Introduction","permalink":"/LLMs-metrics-catalog/intro"},"next":{"title":"Accuracy","permalink":"/LLMs-metrics-catalog/metrics/clasicas-ml/accuracy"}}');var r=i(4848),t=i(8453);const l={id:"bleu",title:"BLEU",sidebar_label:"BLEU"},a=void 0,d={},c=[{value:"Introduction",id:"introduction",level:2},{value:"1. BLEU (Bilingual Evaluation Understudy)",id:"1-bleu-bilingual-evaluation-understudy",level:2},{value:"Definition",id:"definition",level:3},{value:"Purpose",id:"purpose",level:3},{value:"Applications",id:"applications",level:3},{value:"Limitations",id:"limitations",level:3},{value:"2. CodeBLEU",id:"2-codebleu",level:2},{value:"Definition",id:"definition-1",level:3},{value:"Advantages",id:"advantages",level:3},{value:"Use Cases",id:"use-cases",level:3},{value:"3. CrystalBLEU",id:"3-crystalbleu",level:2},{value:"Definition",id:"definition-2",level:3},{value:"Advantages",id:"advantages-1",level:3},{value:"Use Cases",id:"use-cases-1",level:3},{value:"4. Smoothed BLEU / Smoothed 4-gram BLEU",id:"4-smoothed-bleu--smoothed-4-gram-bleu",level:2},{value:"Definition",id:"definition-3",level:3},{value:"Use Cases",id:"use-cases-2",level:3},{value:"5. WeightBLEU",id:"5-weightbleu",level:2},{value:"Definition",id:"definition-4",level:3},{value:"Use Cases",id:"use-cases-3",level:3},{value:"6. Comparative Summary",id:"6-comparative-summary",level:2},{value:"References",id:"references",level:2},{value:"Additional References",id:"additional-references",level:3}];function o(e){const n={a:"a",annotation:"annotation",br:"br",em:"em",h2:"h2",h3:"h3",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msup:"msup",mtext:"mtext",munderover:"munderover",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.p,{children:["BLEU (",(0,r.jsx)(n.em,{children:"Bilingual Evaluation Understudy"}),") is one of the most influential automatic evaluation metrics in Natural Language Processing (NLP). Introduced by ",(0,r.jsx)(n.strong,{children:"Papineni et al. (2002)"}),", it provided a scalable and reproducible way to compare system outputs with human references using ",(0,r.jsx)(n.em,{children:"n-gram overlap"})," rather than subjective human scoring. Since its publication, BLEU has become a cornerstone for evaluating not only machine translation and text generation, but also code generation and other software engineering tasks as Large Language Models began producing structured, programmatic outputs.",(0,r.jsx)(n.br,{}),"\n","Its core idea, precision over short token sequences, has inspired several specialized variants such as CodeBLEU, CrystalBLEU, Smoothed BLEU, and WeightBLEU, each adapting the metric to better capture syntactic and semantic aspects of specific domains."]}),"\n",(0,r.jsx)(n.h2,{id:"1-bleu-bilingual-evaluation-understudy",children:"1. BLEU (Bilingual Evaluation Understudy)"}),"\n",(0,r.jsx)(n.h3,{id:"definition",children:"Definition"}),"\n",(0,r.jsx)(n.p,{children:"BLEU measures the correspondence between a candidate text (or code) and one or more reference texts using modified n-gram precision and a brevity penalty."}),"\n",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"B"}),(0,r.jsx)(n.mi,{children:"L"}),(0,r.jsx)(n.mi,{children:"E"}),(0,r.jsx)(n.mi,{children:"U"}),(0,r.jsx)(n.mo,{children:"="}),(0,r.jsx)(n.mi,{children:"B"}),(0,r.jsx)(n.mi,{children:"P"}),(0,r.jsx)(n.mo,{children:"\u22c5"}),(0,r.jsx)(n.mi,{children:"exp"}),(0,r.jsx)(n.mo,{children:"\u2061"}),(0,r.jsx)(n.mtext,{children:"\u2009\u2063"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mo,{fence:"true",children:"("}),(0,r.jsxs)(n.munderover,{children:[(0,r.jsx)(n.mo,{children:"\u2211"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"n"}),(0,r.jsx)(n.mo,{children:"="}),(0,r.jsx)(n.mn,{children:"1"})]}),(0,r.jsx)(n.mi,{children:"N"})]}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"n"})]}),(0,r.jsx)(n.mi,{children:"log"}),(0,r.jsx)(n.mo,{children:"\u2061"}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"p"}),(0,r.jsx)(n.mi,{children:"n"})]}),(0,r.jsx)(n.mo,{fence:"true",children:")"})]})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"BLEU = BP \\cdot \\exp\\!\\left(\\sum_{n=1}^{N} w_n \\log p_n\\right)"})]})})}),"\n",(0,r.jsx)(n.p,{children:"where:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"p"}),(0,r.jsx)(n.mi,{children:"n"})]})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"p_n"})]})})})," = modified precision for n-grams of size n,"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"n"})]})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"w_n"})]})})})," = weight assigned to each n-gram order (commonly 1/N),"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"B"}),(0,r.jsx)(n.mi,{children:"P"}),(0,r.jsx)(n.mo,{children:"="}),(0,r.jsx)(n.mi,{children:"min"}),(0,r.jsx)(n.mo,{children:"\u2061"}),(0,r.jsx)(n.mo,{stretchy:"false",children:"("}),(0,r.jsx)(n.mn,{children:"1"}),(0,r.jsx)(n.mo,{separator:"true",children:","}),(0,r.jsxs)(n.msup,{children:[(0,r.jsx)(n.mi,{children:"e"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mn,{children:"1"}),(0,r.jsx)(n.mo,{children:"\u2212"}),(0,r.jsx)(n.mi,{children:"r"}),(0,r.jsx)(n.mi,{mathvariant:"normal",children:"/"}),(0,r.jsx)(n.mi,{children:"c"})]})]}),(0,r.jsx)(n.mo,{stretchy:"false",children:")"})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"BP = \\min(1, e^{1 - r/c})"})]})})})," = brevity penalty (r = reference length, c = candidate length).",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.em,{children:"(Papineni et al., 2002)"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Originally designed for machine translation, BLEU became a general benchmark for textual similarity in natural language generation and software engineering, providing a fast and language-independent evaluation method."}),"\n",(0,r.jsx)(n.h3,{id:"applications",children:"Applications"}),"\n",(0,r.jsx)(n.p,{children:"BLEU appears across multiple contexts:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Natural Language Generation and NLP evaluation \u2013 fluency and informativeness."}),"\n",(0,r.jsx)(n.li,{children:"Software Engineering \u2013 code generation, summarization, repair, translation, commit message generation, and documentation evaluation."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"limitations",children:"Limitations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Focuses on surface overlap rather than semantic or functional accuracy."}),"\n",(0,r.jsx)(n.li,{children:"Sensitive to tokenization and reference selection."}),"\n",(0,r.jsx)(n.li,{children:"Requires multiple references for robust human correlation."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2-codebleu",children:"2. CodeBLEU"}),"\n",(0,r.jsx)(n.h3,{id:"definition-1",children:"Definition"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CodeBLEU (Ren et al., 2020)"})," extends BLEU to software engineering tasks by integrating additional structural and semantic dimensions:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Weighted n-gram match \u2013 gives higher weight to language keywords."}),"\n",(0,r.jsx)(n.li,{children:"AST-based structural match \u2013 measures syntactic correctness."}),"\n",(0,r.jsx)(n.li,{children:"Data-flow match \u2013 evaluates semantic and logical consistency."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"C"}),(0,r.jsx)(n.mi,{children:"o"}),(0,r.jsx)(n.mi,{children:"d"}),(0,r.jsx)(n.mi,{children:"e"}),(0,r.jsx)(n.mi,{children:"B"}),(0,r.jsx)(n.mi,{children:"L"}),(0,r.jsx)(n.mi,{children:"E"}),(0,r.jsx)(n.mi,{children:"U"}),(0,r.jsx)(n.mo,{children:"="}),(0,r.jsx)(n.mi,{children:"\u03b1"}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"P"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"n"}),(0,r.jsx)(n.mi,{children:"g"})]})]}),(0,r.jsx)(n.mo,{children:"+"}),(0,r.jsx)(n.mi,{children:"\u03b2"}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"P"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"n"}),(0,r.jsx)(n.mi,{children:"g"})]})]}),(0,r.jsx)(n.mo,{children:"+"}),(0,r.jsx)(n.mi,{children:"\u03b3"}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"P"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"a"}),(0,r.jsx)(n.mi,{children:"s"}),(0,r.jsx)(n.mi,{children:"t"})]})]}),(0,r.jsx)(n.mo,{children:"+"}),(0,r.jsx)(n.mi,{children:"\u03b4"}),(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"P"}),(0,r.jsxs)(n.mrow,{children:[(0,r.jsx)(n.mi,{children:"d"}),(0,r.jsx)(n.mi,{children:"f"})]})]})]}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"CodeBLEU = \\alpha P_{ng} + \\beta P_{wng} + \\gamma P_{ast} + \\delta P_{df}"})]})})})}),"\n",(0,r.jsx)(n.h3,{id:"advantages",children:"Advantages"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Better correlation with functional correctness in code outputs."}),"\n",(0,r.jsx)(n.li,{children:"Reduces false positives caused by superficial textual overlap."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.p,{children:"Used extensively in code generation, translation, and summarization tasks where syntax and semantics both matter."}),"\n",(0,r.jsx)(n.h2,{id:"3-crystalbleu",children:"3. CrystalBLEU"}),"\n",(0,r.jsx)(n.h3,{id:"definition-2",children:"Definition"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CrystalBLEU"})," (Eghbali & Pradel, 2022) refines BLEU by excluding high-frequency trivial n-grams that appear broadly across programming corpora, reducing score inflation."]}),"\n",(0,r.jsx)(n.h3,{id:"advantages-1",children:"Advantages"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"More reliable indicator of semantic similarity in code."}),"\n",(0,r.jsx)(n.li,{children:"Distinguishes genuine logical equivalence from shared boilerplate."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"use-cases-1",children:"Use Cases"}),"\n",(0,r.jsx)(n.p,{children:"Evaluation of model-generated code similarity or variant synthesis."}),"\n",(0,r.jsx)(n.h2,{id:"4-smoothed-bleu--smoothed-4-gram-bleu",children:"4. Smoothed BLEU / Smoothed 4-gram BLEU"}),"\n",(0,r.jsx)(n.h3,{id:"definition-3",children:"Definition"}),"\n",(0,r.jsxs)(n.p,{children:["Smoothed BLEU variants modify the computation of higher-order n-gram precision values by adding a small smoothing constant.",(0,r.jsx)(n.br,{}),"\n","This avoids zero scores in short outputs with sparse matches."]}),"\n",(0,r.jsx)(n.h3,{id:"use-cases-2",children:"Use Cases"}),"\n",(0,r.jsx)(n.p,{children:"Particularly useful for code summarization, short documentation generation, or low-resource text generation."}),"\n",(0,r.jsx)(n.h2,{id:"5-weightbleu",children:"5. WeightBLEU"}),"\n",(0,r.jsx)(n.h3,{id:"definition-4",children:"Definition"}),"\n",(0,r.jsxs)(n.p,{children:["WeightBLEU reweights n-gram or token contributions based on their importance in the task context, such as giving higher priority to syntax or control-flow keywords in code.",(0,r.jsx)(n.br,{}),"\n","It preserves the BLEU formulation but adapts the weight vector ",(0,r.jsx)(n.span,{className:"katex",children:(0,r.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(n.semantics,{children:[(0,r.jsx)(n.mrow,{children:(0,r.jsxs)(n.msub,{children:[(0,r.jsx)(n.mi,{children:"w"}),(0,r.jsx)(n.mi,{children:"n"})]})}),(0,r.jsx)(n.annotation,{encoding:"application/x-tex",children:"w_n"})]})})})," or per-token weights."]}),"\n",(0,r.jsx)(n.h3,{id:"use-cases-3",children:"Use Cases"}),"\n",(0,r.jsx)(n.p,{children:"Applied in code migration and generation tasks where token significance varies."}),"\n",(0,r.jsx)(n.h2,{id:"6-comparative-summary",children:"6. Comparative Summary"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Metric"}),(0,r.jsx)(n.th,{children:"Based on"}),(0,r.jsx)(n.th,{children:"Extension Goal"}),(0,r.jsx)(n.th,{children:"Added Feature(s)"}),(0,r.jsx)(n.th,{children:"Typical Domain"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"BLEU"})}),(0,r.jsx)(n.td,{children:"\u2013"}),(0,r.jsx)(n.td,{children:"Baseline precision-based metric"}),(0,r.jsx)(n.td,{children:"Modified n-gram precision, brevity penalty"}),(0,r.jsx)(n.td,{children:"NLP, SE"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"CodeBLEU"})}),(0,r.jsx)(n.td,{children:"BLEU"}),(0,r.jsx)(n.td,{children:"Incorporate syntax and semantics"}),(0,r.jsx)(n.td,{children:"Weighted n-gram, AST, data-flow matches"}),(0,r.jsx)(n.td,{children:"SE"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"CrystalBLEU"})}),(0,r.jsx)(n.td,{children:"BLEU"}),(0,r.jsx)(n.td,{children:"Filter trivial overlaps"}),(0,r.jsx)(n.td,{children:"Removes common/high-frequency n-grams"}),(0,r.jsx)(n.td,{children:"SE"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Smoothed BLEU"})}),(0,r.jsx)(n.td,{children:"BLEU"}),(0,r.jsx)(n.td,{children:"Stabilize scores for short outputs"}),(0,r.jsx)(n.td,{children:"Adds smoothing for higher-order n-grams"}),(0,r.jsx)(n.td,{children:"NLP, SE"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"WeightBLEU"})}),(0,r.jsx)(n.td,{children:"BLEU"}),(0,r.jsx)(n.td,{children:"Token-importance weighting"}),(0,r.jsx)(n.td,{children:"Variable n-gram and token weights"}),(0,r.jsx)(n.td,{children:"SE"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Papineni, K., Roukos, S., Ward, T., & Zhu, W.-J. (2002).",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.em,{children:"BLEU: A Method for Automatic Evaluation of Machine Translation."}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.em,{children:"Proceedings of the 40th Annual Meeting of the Association for Computational Linguistics (ACL)."}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"https://aclanthology.org/P02-1040.pdf",children:"https://aclanthology.org/P02-1040.pdf"})]}),"\n",(0,r.jsxs)(n.li,{children:["Eghbali, A., & Pradel, M. (2022). ",(0,r.jsx)(n.em,{children:"CrystalBLEU: Precisely and Efficiently Measuring the Similarity of Code."}),"\r\n",(0,r.jsx)(n.a,{href:"https://doi.org/10.1145/3551349.3556903",children:"https://doi.org/10.1145/3551349.3556903"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"additional-references",children:"Additional References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"1, 2, 3, 6, 7, 9, 10, 11, 12, 15, 18, 19, 23, 25, 26, 31, 32, 34, 37, 40, 43, 45, 46, 47, 50, 51, 58, 60, 68"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(6540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);
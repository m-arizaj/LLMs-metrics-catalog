---
id: difference-automata
title: Difference Automata
sidebar_label: Difference Automata
---

## Introduction

**Difference Automata** are a validation metric used in software engineering, particularly for verifying system migration and ensuring behavioral equivalence. Unlike metrics that produce a single score, a Difference Automaton is a complete, learnable behavioral model (specifically a Mealy or Moore machine).

This metric is generated by simultaneously testing two versions of a system (e.g., a source and a target) to "fully characterize the behavioral discrepancies between the two compared models"=. The paper by **Busch et al. (2025)** uses this technique to automatically validate the correctness of an LLM-based migration from JavaScript to TypeScript.

A key application of this model is the **Nonempty Difference Automaton Indicator**, which serves as a direct and intuitive signal for detecting migration errors.

## 1. Difference Automata
### Definition
A Difference Automaton is a behavioral model (e.g., a Mealy or Moore machine) that is inferred by "simultaneously testing two systems for discrepancies"=. It is designed to "fully characterize the behavioral differences" between two systems, such as an original and a migrated application. The resulting automaton model "show[s] all traces that lead to the occurrence of divergent behavior".

### Purpose
The primary purpose of this metric is **Behavioral Equivalence Verification**. It is "ideal for quality control because they clearly show behavioral differences before and after migration"=. The paper uses them to "detect and visualize behavioral differences that are the result of the LLM-supported migration process".

### Applications
- Validation of system migration, specifically the LLM-based migration of a Webstory application from JavaScript to TypeScript.
- Used to "systematically compar[e] the models generated before and after migration".

### Limitations
- The validation method relies on the scalability of Active Automata Learning (AAL), which requires managing the size of the learning alphabets and the inferred models to remain feasible.

## 2. Nonempty Difference Automaton Indicator
### Definition
This is a derived binary metric based on the `Difference Automata` model. It is a simple check to see if the inferred difference automaton is "nonempty" (i.e., contains any states or transitions indicating a difference).

### Purpose
This metric is used for **Migration Error Detection**. The logic is direct: "Any nonempty difference automaton serves as an intuitive indicator of an erroneous migration". Conversely, "The migration is correct whenever there is no input with a nonempty difference automaton".

### Applications
- Serves as the primary signal for validating the correctness of the LLM-based JavaScript-to-TypeScript migration.
- Described as the "most convenient way to detect behavioral discrepancies introduced by migration".

## 3. Comparative Summary

| Metric | Based on | Extension Goal | Output | Typical Domain |
| :--- | :--- | :--- | :--- | :--- |
| **Difference Automata** | Active Automata Learning | Behavioral Equivalence Verification  | A behavioral model showing all divergent traces  | Software Migration / Validation  |
| **Nonempty Difference Automaton Indicator** | Difference Automata | Migration Error Detection | A binary signal indicating if an error was found  | Software Migration / Validation  |

## References
- Busch, D., Bainczyk, A., Smyth, S. et al. LLM-based code generation and system migration in language-driven engineering. Int J Softw Tools Technol Transfer 27, 137â€“147 (2025). https://doi-org.ezproxy.uniandes.edu.co/10.1007/s10009-025-00798-x
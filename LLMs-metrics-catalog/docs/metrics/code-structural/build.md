---
id: build
title: Build Metrics
sidebar_label: Build Metrics
---

## Introduction
Build metrics evaluate whether code generated by a Large Language Model (LLM) can successfully integrate into an industrial software repository and pass the project’s build pipelines. Unlike traditional execution-based metrics (e.g., pass@k), which only test isolated functions, build metrics capture real-world feasibility including dependencies, architectural rules, and project-specific constraints.

The ASML case study introduces build@k, a novel metric measuring the probability that at least one of the model’s generated code artifacts—called garages—successfully builds. The paper further evaluates the quality of buildable code via violations per build and critical violations per build using ASML’s TICS static-analysis system.

These metrics answer a central question in software engineering evaluation for LLMs:

> Can the generated code integrate, compile, and meet industrial structural standards?

## Formula

### Build@k

> “We propose a novel performance metric, termed *build@k*, which draws inspiration from pass@k… A garage is considered buildable if it successfully integrates into the project and passes the build pipelines… Formula 1 formally defines the build@k metric.”  
> (ASML Case Study, p. 6) 

Build@k is defined as:

$$
\text{build@k} = \frac{1}{N} \sum_{i=1}^{N}
\begin{cases}
1 & \text{if any of the k generated code instances for } garage_i \text{ builds} \\
0 & \text{otherwise}
\end{cases}
$$

Where:  
- $N$ = number of tasks (garages)  
- $k$ = number of samples per task  


### Violations per Build (VPB)

> “We measure the *average number of violations per buildable garage*…”  
> (ASML Case Study, p. 6) 

Let:  
- $v_i$ = number of TICS violations in buildable garage $i$  
- $M$ = number of buildable garages

Then:

$$
\text{VPB} = \frac{1}{M} \sum_{i=1}^{M} v_i
$$


### Critical Violations per Build (Critical VPB)

> “Issues assigned to levels 1–7 are deemed critical… we measure the average number of critical violations (levels 1–7) per buildable garage.”  
> (ASML Case Study, p. 6) 

Let:  
- $cv_i$ = number of critical violations in garage $i$

Then:

$$
\text{Critical VPB} = \frac{1}{M} \sum_{i=1}^{M} cv_i
$$


## Variants

### Build@k Variants
- Extends pass@k to full repository-level integration.  
- Captures dependency correctness, code structure, and architectural alignment.  
- Different $k$ values (e.g., 1, 5, 10) allow modeling sample efficiency and robustness.

### Violation Metric Variants
TICS categories include:  
naming, class structure, error handling, code duplication, control flow, documentation, and safety-critical rules.

The paper distinguishes:  
- total violations (VPB)  
- critical violations (Critical VPB)  

Both are evaluable per build.

## Applications in Software Engineering

### Build@k
Applied to large industrial repositories to determine whether generated code:

- compiles successfully,  
- satisfies architectural constraints,  
- resolves dependencies,  
- follows module and directory structure constraints,  
- passes the complete build pipeline.

It is crucial for:
- CI/CD systems  
- automated code generation agents  
- large-scale refactoring  
- industry-grade LLM deployment  

### Violation Metrics (VPB & Critical VPB)
Used to assess:
- maintainability  
- structural code quality  
- static-analysis compliance  
- risk of long-term technical debt  

These reflect how clean, consistent, and robust the buildable output is.


## Interpretation

### High build@k
Indicates:
- strong LLM understanding of repository structure  
- consistent generation of valid, integrable code  
- effective alignment with industrial build constraints  

### Low build@k
Indicates:
- integration failures  
- dependency issues  
- architectural or structural misunderstandings  


### High VPB / High Critical VPB
Indicates:
- poor maintainability  
- violations of coding guidelines  
- elevated risk of bugs or build failures  

### Low VPB / Low Critical VPB
Indicates:
- clean, maintainable code  
- minimal guideline violations  
- low risk of future structural issues  


## References

1. Evaluating Large Language Models for Functional and Maintainable Code in Industrial Settings: A Case Study at ASML. (2025).  
[https://doi.org/10.48550/arXiv.2509.12395](https://doi.org/10.48550/arXiv.2509.12395)

